<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Grafo de Educação - Analfabetismo por Bairro - Recife</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            overflow: hidden;
        }
        #container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        #header {
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 10;
        }
        h1 {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 24px;
        }
        #filtroMicro {
            margin: 10px 0;
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }
        select, input[type="text"] {
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
        }
        select:focus, input[type="text"]:focus {
            outline: none;
            border-color: #4ecdc4;
        }
        input[type="text"] {
            min-width: 250px;
        }
        button {
            padding: 8px 16px;
            background: #4ecdc4;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            transition: background 0.2s;
        }
        button:hover {
            background: #3db5ac;
        }
        #legenda {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            font-size: 13px;
        }
        .legenda-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legenda-cor {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            border: 2px solid #333;
        }
        #canvasContainer {
            flex: 1;
            position: relative;
            overflow: hidden;
        }
        canvas {
            display: block;
            cursor: grab;
        }
        canvas.dragging {
            cursor: grabbing;
        }
        #tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px;
            border-radius: 6px;
            font-size: 13px;
            pointer-events: none;
            display: none;
            z-index: 100;
            max-width: 300px;
            line-height: 1.5;
        }
        .tooltip-title {
            font-size: 15px;
            font-weight: bold;
            margin-bottom: 8px;
            border-bottom: 1px solid rgba(255,255,255,0.3);
            padding-bottom: 5px;
        }
        .tooltip-row {
            margin: 3px 0;
        }
        .tooltip-label {
            color: #aaa;
            font-size: 11px;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="header">
            <h1>Analfabetismo e Educação por Bairro - Recife</h1>
            <div id="filtroMicro">
                <label for="selectMicro"><strong>Filtrar por Microrregião:</strong></label>
                <select id="selectMicro">
                    <option value="todas">Todas as Microrregiões</option>
                </select>
                <label for="inputBusca"><strong>Buscar Bairro:</strong></label>
                <input type="text" id="inputBusca" placeholder="Digite o nome do bairro...">
                <button id="btnResetFiltro">Resetar Visualização</button>
            </div>
            <div id="legenda">
                <div class="legenda-item">
                    <div class="legenda-cor" style="background: #27ae60;"></div>
                    <span><strong>Quase perfeito</strong> (&lt;2%)</span>
                </div>
                <div class="legenda-item">
                    <div class="legenda-cor" style="background: #3498db;"></div>
                    <span><strong>Bom</strong> (2-6%)</span>
                </div>
                <div class="legenda-item">
                    <div class="legenda-cor" style="background: #f39c12;"></div>
                    <span><strong>Regular</strong> (6-8%)</span>
                </div>
                <div class="legenda-item">
                    <div class="legenda-cor" style="background: #e74c3c;"></div>
                    <span><strong>Crítico</strong> (≥8%)</span>
                </div>
            </div>
        </div>
        <div id="canvasContainer">
            <canvas id="canvas"></canvas>
            <div id="tooltip"></div>
        </div>
    </div>
    <script>
        const nodes = [{"id": 0, "label": "Aflitos", "x": 4386.5654564169845, "y": 2250.688366558438, "microrregiao": "3.1", "taxa_analfabetismo": 0.8, "taxa_alfabetizacao": 99.2, "faixa_analfabetismo": "Quase perfeito (<2%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 5773, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "excelente", "categoria_micro": "bom"}, {"id": 1, "label": "Afogados", "x": 2145.956907951636, "y": 5211.825163826496, "microrregiao": "5.1", "taxa_analfabetismo": 7.2, "taxa_alfabetizacao": 92.8, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 8.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 36265, "unidades": 4, "matriculas": 773, "unidades_por_10k": 1.1, "matriculas_por_10k": 213.15, "categoria": "regular", "categoria_micro": "critico"}, {"id": 2, "label": "Alto Jos\u00e9 Bonif\u00e1cio", "x": 1136.0185958942873, "y": 3670.1655865162143, "microrregiao": "3.2", "taxa_analfabetismo": 9.0, "taxa_alfabetizacao": 91.0, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 12472, "unidades": 3, "matriculas": 326, "unidades_por_10k": 2.41, "matriculas_por_10k": 261.39, "categoria": "critico", "categoria_micro": "critico"}, {"id": 3, "label": "Alto Jos\u00e9 do Pinho", "x": 727.7410731125857, "y": 4171.0087651573285, "microrregiao": "3.2", "taxa_analfabetismo": 8.3, "taxa_alfabetizacao": 91.7, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 12334, "unidades": 2, "matriculas": 709, "unidades_por_10k": 1.62, "matriculas_por_10k": 574.83, "categoria": "critico", "categoria_micro": "critico"}, {"id": 4, "label": "Alto Santa Teresinha", "x": 2398.1710369026573, "y": 2503.6970330408794, "microrregiao": "2.2", "taxa_analfabetismo": 9.5, "taxa_alfabetizacao": 90.5, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 10.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 7703, "unidades": 3, "matriculas": 394, "unidades_por_10k": 3.89, "matriculas_por_10k": 511.49, "categoria": "critico", "categoria_micro": "critico"}, {"id": 5, "label": "Alto do Mandu", "x": 5265.919708385726, "y": 1890.2233429913126, "microrregiao": "3.1", "taxa_analfabetismo": 5.1, "taxa_alfabetizacao": 94.9, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 4649, "unidades": 1, "matriculas": 203, "unidades_por_10k": 2.15, "matriculas_por_10k": 436.65, "categoria": "bom", "categoria_micro": "bom"}, {"id": 6, "label": "Apipucos", "x": 4699.875408932711, "y": 3106.035442418684, "microrregiao": "3.1", "taxa_analfabetismo": 4.8, "taxa_alfabetizacao": 95.2, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 10899, "unidades": 1, "matriculas": 44, "unidades_por_10k": 0.92, "matriculas_por_10k": 40.37, "categoria": "bom", "categoria_micro": "bom"}, {"id": 7, "label": "Areias", "x": 3801.545304805908, "y": 5476.7740875975705, "microrregiao": "5.2", "taxa_analfabetismo": 4.7, "taxa_alfabetizacao": 95.3, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 7.8, "faixa_analfabetismo_micro": "Na m\u00e9dia nacional (6% a 8%)", "populacao": 29894, "unidades": 9, "matriculas": 1086, "unidades_por_10k": 3.01, "matriculas_por_10k": 363.28, "categoria": "bom", "categoria_micro": "regular"}, {"id": 8, "label": "Arruda", "x": 585.2374526489272, "y": 2084.4519324821995, "microrregiao": "2.1", "taxa_analfabetismo": 10.8, "taxa_alfabetizacao": 89.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 23900, "unidades": 1, "matriculas": 97, "unidades_por_10k": 0.42, "matriculas_por_10k": 40.59, "categoria": "critico", "categoria_micro": "critico"}, {"id": 9, "label": "Barro", "x": 5403.8100083914505, "y": 5501.757584103559, "microrregiao": "5.3", "taxa_analfabetismo": 10.8, "taxa_alfabetizacao": 89.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.9, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 31847, "unidades": 10, "matriculas": 1273, "unidades_por_10k": 3.14, "matriculas_por_10k": 399.72, "categoria": "critico", "categoria_micro": "critico"}, {"id": 10, "label": "Beberibe", "x": 2885.7496997766643, "y": 2717.8936243387006, "microrregiao": "2.2 / 2.3", "taxa_analfabetismo": 8.2, "taxa_alfabetizacao": 91.8, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 8302, "unidades": 4, "matriculas": 876, "unidades_por_10k": 4.82, "matriculas_por_10k": 1055.17, "categoria": "critico", "categoria_micro": "critico"}, {"id": 11, "label": "Boa Viagem", "x": 1600.5138103332238, "y": 7329.5722475069715, "microrregiao": "6.1", "taxa_analfabetismo": 2.4, "taxa_alfabetizacao": 97.6, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 4.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 122922, "unidades": 10, "matriculas": 1426, "unidades_por_10k": 0.81, "matriculas_por_10k": 116.01, "categoria": "bom", "categoria_micro": "bom"}, {"id": 12, "label": "Boa Vista", "x": 2122.9165581800967, "y": 1149.072153582407, "microrregiao": "1.2", "taxa_analfabetismo": 1.5, "taxa_alfabetizacao": 98.5, "faixa_analfabetismo": "Quase perfeito (<2%)", "taxa_analfabetismo_micro": 3.3, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 14778, "unidades": 6, "matriculas": 167, "unidades_por_10k": 4.06, "matriculas_por_10k": 113.01, "categoria": "excelente", "categoria_micro": "bom"}, {"id": 13, "label": "Bomba do Hemet\u00e9rio", "x": 2190.05861130503, "y": 2138.7755346149265, "microrregiao": "2.2", "taxa_analfabetismo": 8.6, "taxa_alfabetizacao": 91.4, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 10.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 8472, "unidades": 2, "matriculas": 30, "unidades_por_10k": 2.36, "matriculas_por_10k": 35.41, "categoria": "critico", "categoria_micro": "critico"}, {"id": 14, "label": "Bongi", "x": 2060.103622269815, "y": 5875.779642329766, "microrregiao": "5.1", "taxa_analfabetismo": 9.2, "taxa_alfabetizacao": 90.8, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 8.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 8101, "unidades": 1, "matriculas": 108, "unidades_por_10k": 1.23, "matriculas_por_10k": 133.32, "categoria": "critico", "categoria_micro": "critico"}, {"id": 15, "label": "Bras\u00edlia Teimosa", "x": 1809.6930814228824, "y": 6993.105118240638, "microrregiao": "6.1", "taxa_analfabetismo": 8.2, "taxa_alfabetizacao": 91.8, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 4.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 18334, "unidades": 3, "matriculas": 411, "unidades_por_10k": 1.64, "matriculas_por_10k": 224.17, "categoria": "critico", "categoria_micro": "bom"}, {"id": 16, "label": "Brejo da Guabiraba", "x": 2238.4851543019286, "y": 3691.784450787833, "microrregiao": "3.3", "taxa_analfabetismo": 12.9, "taxa_alfabetizacao": 87.1, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 11742, "unidades": 6, "matriculas": 683, "unidades_por_10k": 5.11, "matriculas_por_10k": 581.67, "categoria": "critico", "categoria_micro": "critico"}, {"id": 17, "label": "Brejo de Beberibe", "x": 2016.3527706151958, "y": 3988.161928650654, "microrregiao": "3.3", "taxa_analfabetismo": 9.8, "taxa_alfabetizacao": 90.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 8292, "unidades": 5, "matriculas": 284, "unidades_por_10k": 6.03, "matriculas_por_10k": 342.5, "categoria": "critico", "categoria_micro": "critico"}, {"id": 18, "label": "Cabanga", "x": 2753.159056571954, "y": 1325.5312671613865, "microrregiao": "1.2", "taxa_analfabetismo": 5.5, "taxa_alfabetizacao": 94.5, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.3, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 1551, "unidades": 1, "matriculas": 381, "unidades_por_10k": 6.45, "matriculas_por_10k": 2456.48, "categoria": "bom", "categoria_micro": "bom"}, {"id": 19, "label": "Cajueiro", "x": 1771.1552173595876, "y": 2822.5661785049974, "microrregiao": "2.2", "taxa_analfabetismo": 13.2, "taxa_alfabetizacao": 86.8, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 10.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 6585, "unidades": 2, "matriculas": 259, "unidades_por_10k": 3.04, "matriculas_por_10k": 393.32, "categoria": "critico", "categoria_micro": "critico"}, {"id": 20, "label": "Campina do Barreto", "x": 17.61905256863787, "y": 2620.421105046411, "microrregiao": "2.1", "taxa_analfabetismo": 10.3, "taxa_alfabetizacao": 89.7, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 9484, "unidades": 7, "matriculas": 576, "unidades_por_10k": 7.38, "matriculas_por_10k": 607.34, "categoria": "critico", "categoria_micro": "critico"}, {"id": 21, "label": "Campo Grande", "x": 295.7128273274378, "y": 2115.941238890696, "microrregiao": "2.1", "taxa_analfabetismo": 10.7, "taxa_alfabetizacao": 89.3, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 32349, "unidades": 6, "matriculas": 1293, "unidades_por_10k": 1.85, "matriculas_por_10k": 399.7, "categoria": "critico", "categoria_micro": "critico"}, {"id": 22, "label": "Casa Amarela", "x": 5664.408772138752, "y": 2767.9599485339377, "microrregiao": "3.1", "taxa_analfabetismo": 3.5, "taxa_alfabetizacao": 96.5, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 29180, "unidades": 5, "matriculas": 1052, "unidades_por_10k": 1.71, "matriculas_por_10k": 360.52, "categoria": "bom", "categoria_micro": "bom"}, {"id": 23, "label": "Casa Forte", "x": 4358.780014604014, "y": 2731.17543708541, "microrregiao": "3.1", "taxa_analfabetismo": 2.2, "taxa_alfabetizacao": 97.8, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 15986, "unidades": 1, "matriculas": 218, "unidades_por_10k": 0.63, "matriculas_por_10k": 136.37, "categoria": "bom", "categoria_micro": "bom"}, {"id": 24, "label": "Caxang\u00e1", "x": 796.1368134163151, "y": 5476.274160852294, "microrregiao": "4.3", "taxa_analfabetismo": 6.7, "taxa_alfabetizacao": 93.3, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 11.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 9634, "unidades": 5, "matriculas": 399, "unidades_por_10k": 5.19, "matriculas_por_10k": 414.16, "categoria": "regular", "categoria_micro": "critico"}, {"id": 25, "label": "Ca\u00e7ote", "x": 3217.636762647267, "y": 5481.467788079848, "microrregiao": "5.2", "taxa_analfabetismo": 8.6, "taxa_alfabetizacao": 91.4, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 7.8, "faixa_analfabetismo_micro": "Na m\u00e9dia nacional (6% a 8%)", "populacao": 10470, "unidades": 2, "matriculas": 339, "unidades_por_10k": 1.91, "matriculas_por_10k": 323.78, "categoria": "critico", "categoria_micro": "regular"}, {"id": 26, "label": "Cidade Universit\u00e1ria", "x": 363.4585990223541, "y": 5790.929655457735, "microrregiao": "4.3", "taxa_analfabetismo": 7.2, "taxa_alfabetizacao": 92.8, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 11.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 818, "unidades": 1, "matriculas": 118, "unidades_por_10k": 12.22, "matriculas_por_10k": 1442.54, "categoria": "regular", "categoria_micro": "critico"}, {"id": 27, "label": "Coelhos", "x": 4301.454758974054, "y": 995.8851852587399, "microrregiao": "1.3", "taxa_analfabetismo": 12.3, "taxa_alfabetizacao": 87.7, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 15.1, "faixa_analfabetismo_micro": "Cr\u00edtico (>=15%)", "populacao": 7655, "unidades": 3, "matriculas": 776, "unidades_por_10k": 3.92, "matriculas_por_10k": 1013.72, "categoria": "critico", "categoria_micro": "critico"}, {"id": 28, "label": "Cohab", "x": 5000, "y": 7000, "microrregiao": "6.3", "taxa_analfabetismo": 7.4, "taxa_alfabetizacao": 92.6, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 7.4, "faixa_analfabetismo_micro": "Na m\u00e9dia nacional (6% a 8%)", "populacao": 67283, "unidades": 25, "matriculas": 5338, "unidades_por_10k": 3.72, "matriculas_por_10k": 793.37, "categoria": "regular", "categoria_micro": "regular"}, {"id": 29, "label": "Coqueiral", "x": 4881.660595459026, "y": 5140.821557306064, "microrregiao": "5.3", "taxa_analfabetismo": 8.7, "taxa_alfabetizacao": 91.3, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.9, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 10794, "unidades": 5, "matriculas": 874, "unidades_por_10k": 4.63, "matriculas_por_10k": 809.71, "categoria": "critico", "categoria_micro": "critico"}, {"id": 30, "label": "Cordeiro", "x": 4227.67488096615, "y": 3688.375660575699, "microrregiao": "4.1", "taxa_analfabetismo": 9.7, "taxa_alfabetizacao": 90.3, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 8.7, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 20215, "unidades": 8, "matriculas": 384, "unidades_por_10k": 3.96, "matriculas_por_10k": 189.96, "categoria": "critico", "categoria_micro": "critico"}, {"id": 31, "label": "Curado", "x": 5217.731238348907, "y": 5793.020641515048, "microrregiao": "5.3", "taxa_analfabetismo": 9.7, "taxa_alfabetizacao": 90.3, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.9, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 16418, "unidades": 2, "matriculas": 350, "unidades_por_10k": 1.22, "matriculas_por_10k": 213.18, "categoria": "critico", "categoria_micro": "critico"}, {"id": 32, "label": "C\u00f3rrego do Jenipapo", "x": 2762.2750859163625, "y": 3710.9451982139385, "microrregiao": "3.3", "taxa_analfabetismo": 10.1, "taxa_alfabetizacao": 89.9, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 7608, "unidades": 2, "matriculas": 207, "unidades_por_10k": 2.63, "matriculas_por_10k": 272.08, "categoria": "critico", "categoria_micro": "critico"}, {"id": 33, "label": "Derby", "x": 5601.142889304086, "y": 2192.9852903821425, "microrregiao": "3.1", "taxa_analfabetismo": 3.7, "taxa_alfabetizacao": 96.3, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 5811, "unidades": 1, "matriculas": 198, "unidades_por_10k": 1.72, "matriculas_por_10k": 340.73, "categoria": "bom", "categoria_micro": "bom"}, {"id": 34, "label": "Dois Irm\u00e3os", "x": 4706.115515367932, "y": 1859.7074620680899, "microrregiao": "3.1", "taxa_analfabetismo": 13.8, "taxa_alfabetizacao": 86.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 2613, "unidades": 3, "matriculas": 544, "unidades_por_10k": 11.48, "matriculas_por_10k": 2081.9, "categoria": "critico", "categoria_micro": "bom"}, {"id": 35, "label": "Dois Unidos", "x": 3333.551424058067, "y": 3007.1043093325284, "microrregiao": "2.2 / 2.3", "taxa_analfabetismo": 11.7, "taxa_alfabetizacao": 88.3, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 32805, "unidades": 6, "matriculas": 1070, "unidades_por_10k": 1.83, "matriculas_por_10k": 326.17, "categoria": "critico", "categoria_micro": "critico"}, {"id": 36, "label": "Encruzilhada", "x": 310.7213072206782, "y": 2890.6913942899487, "microrregiao": "2.1", "taxa_analfabetismo": 10.5, "taxa_alfabetizacao": 89.5, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 11940, "unidades": 2, "matriculas": 241, "unidades_por_10k": 1.68, "matriculas_por_10k": 201.84, "categoria": "critico", "categoria_micro": "critico"}, {"id": 37, "label": "Engenho do Meio", "x": 5217.502931836912, "y": 3972.3210738148823, "microrregiao": "4.2", "taxa_analfabetismo": 3.9, "taxa_alfabetizacao": 96.1, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 9.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 10458, "unidades": 7, "matriculas": 1085, "unidades_por_10k": 6.69, "matriculas_por_10k": 1037.48, "categoria": "bom", "categoria_micro": "critico"}, {"id": 38, "label": "Espinheiro", "x": 4957.9791976923625, "y": 3153.279088636103, "microrregiao": "3.1", "taxa_analfabetismo": 1.9, "taxa_alfabetizacao": 98.1, "faixa_analfabetismo": "Quase perfeito (<2%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 10438, "unidades": 2, "matriculas": 274, "unidades_por_10k": 1.92, "matriculas_por_10k": 262.5, "categoria": "excelente", "categoria_micro": "bom"}, {"id": 39, "label": "Est\u00e2ncia", "x": 3515.543866529488, "y": 5169.563190106066, "microrregiao": "5.2", "taxa_analfabetismo": 11.4, "taxa_alfabetizacao": 88.6, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 7.8, "faixa_analfabetismo_micro": "Na m\u00e9dia nacional (6% a 8%)", "populacao": 10514, "unidades": 6, "matriculas": 1255, "unidades_por_10k": 5.71, "matriculas_por_10k": 1193.65, "categoria": "critico", "categoria_micro": "regular"}, {"id": 40, "label": "Fund\u00e3o", "x": 1847.5852940378193, "y": 2147.249251637022, "microrregiao": "2.2", "taxa_analfabetismo": 12.4, "taxa_alfabetizacao": 87.6, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 10.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 6178, "unidades": 1, "matriculas": 93, "unidades_por_10k": 1.62, "matriculas_por_10k": 150.53, "categoria": "critico", "categoria_micro": "critico"}, {"id": 41, "label": "Gra\u00e7as", "x": 5233.014561573416, "y": 3107.1768784678857, "microrregiao": "3.1", "taxa_analfabetismo": 1.5, "taxa_alfabetizacao": 98.5, "faixa_analfabetismo": "Quase perfeito (<2%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 10539, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "excelente", "categoria_micro": "bom"}, {"id": 42, "label": "Guabiraba", "x": 2218.0809527142155, "y": 4303.342980402049, "microrregiao": "3.3", "taxa_analfabetismo": 14.4, "taxa_alfabetizacao": 85.6, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 6330, "unidades": 2, "matriculas": 549, "unidades_por_10k": 3.16, "matriculas_por_10k": 867.3, "categoria": "critico", "categoria_micro": "critico"}, {"id": 43, "label": "Hip\u00f3dromo", "x": 565.6396951552565, "y": 2928.407593896916, "microrregiao": "2.1", "taxa_analfabetismo": 2.3, "taxa_alfabetizacao": 97.7, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 11.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 2711, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "bom", "categoria_micro": "critico"}, {"id": 44, "label": "Ibura", "x": 3196.9212518468385, "y": 7026.060216525723, "microrregiao": "6.2", "taxa_analfabetismo": 8.4, "taxa_alfabetizacao": 91.6, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 8.2, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 50617, "unidades": 14, "matriculas": 2961, "unidades_por_10k": 2.77, "matriculas_por_10k": 584.98, "categoria": "critico", "categoria_micro": "critico"}, {"id": 45, "label": "Ilha Joana Bezerra", "x": 3716.488016649805, "y": 974.6627507693984, "microrregiao": "1.3", "taxa_analfabetismo": 16.8, "taxa_alfabetizacao": 83.2, "faixa_analfabetismo": "Cr\u00edtico (>=15%)", "taxa_analfabetismo_micro": 15.1, "faixa_analfabetismo_micro": "Cr\u00edtico (>=15%)", "populacao": 12629, "unidades": 6, "matriculas": 949, "unidades_por_10k": 4.75, "matriculas_por_10k": 751.45, "categoria": "critico", "categoria_micro": "critico"}, {"id": 46, "label": "Ilha do Leite", "x": 2134.5323730379537, "y": 845.1007738707988, "microrregiao": "1.2", "taxa_analfabetismo": 3.2, "taxa_alfabetizacao": 96.8, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.3, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 1007, "unidades": 4, "matriculas": 291, "unidades_por_10k": 39.72, "matriculas_por_10k": 2889.77, "categoria": "bom", "categoria_micro": "bom"}, {"id": 47, "label": "Ilha do Retiro", "x": 4433.647121416401, "y": 4017.669948742291, "microrregiao": "4.1", "taxa_analfabetismo": 10.8, "taxa_alfabetizacao": 89.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 8.7, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 3740, "unidades": 2, "matriculas": 280, "unidades_por_10k": 5.35, "matriculas_por_10k": 748.66, "categoria": "critico", "categoria_micro": "critico"}, {"id": 48, "label": "Imbiribeira", "x": 1265.260573105365, "y": 6754.116948812831, "microrregiao": "6.1", "taxa_analfabetismo": 8.4, "taxa_alfabetizacao": 91.6, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 4.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 48512, "unidades": 19, "matriculas": 1341, "unidades_por_10k": 3.92, "matriculas_por_10k": 276.43, "categoria": "critico", "categoria_micro": "bom"}, {"id": 49, "label": "Ipsep", "x": 1239.7516369147534, "y": 7223.061293031696, "microrregiao": "6.1", "taxa_analfabetismo": 2.7, "taxa_alfabetizacao": 97.3, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 4.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 25029, "unidades": 5, "matriculas": 1067, "unidades_por_10k": 2.0, "matriculas_por_10k": 426.31, "categoria": "bom", "categoria_micro": "bom"}, {"id": 50, "label": "Iputinga", "x": 3602.4665616403686, "y": 4178.427861848535, "microrregiao": "4.1", "taxa_analfabetismo": 6.7, "taxa_alfabetizacao": 93.3, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 8.7, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 52200, "unidades": 13, "matriculas": 2039, "unidades_por_10k": 2.49, "matriculas_por_10k": 390.61, "categoria": "regular", "categoria_micro": "critico"}, {"id": 51, "label": "Jaqueira", "x": 4532.735833219587, "y": 2967.315829103861, "microrregiao": "3.1", "taxa_analfabetismo": 2.9, "taxa_alfabetizacao": 97.1, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 12129, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "bom", "categoria_micro": "bom"}, {"id": 52, "label": "Jardim S\u00e3o Paulo", "x": 4587.7020727609115, "y": 5335.217962688811, "microrregiao": "5.3", "taxa_analfabetismo": 5.1, "taxa_alfabetizacao": 94.9, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 9.9, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 31608, "unidades": 7, "matriculas": 1630, "unidades_por_10k": 2.21, "matriculas_por_10k": 515.69, "categoria": "bom", "categoria_micro": "critico"}, {"id": 53, "label": "Jiqui\u00e1", "x": 3471.0982843586326, "y": 5864.290971433506, "microrregiao": "5.2", "taxa_analfabetismo": 12.5, "taxa_alfabetizacao": 87.5, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 7.8, "faixa_analfabetismo_micro": "Na m\u00e9dia nacional (6% a 8%)", "populacao": 9245, "unidades": 1, "matriculas": 63, "unidades_por_10k": 1.08, "matriculas_por_10k": 68.14, "categoria": "critico", "categoria_micro": "regular"}, {"id": 54, "label": "Jord\u00e3o", "x": 3718.5653452067877, "y": 6998.599046331661, "microrregiao": "6.2", "taxa_analfabetismo": 7.6, "taxa_alfabetizacao": 92.4, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 8.2, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 20777, "unidades": 12, "matriculas": 1545, "unidades_por_10k": 5.78, "matriculas_por_10k": 743.61, "categoria": "regular", "categoria_micro": "critico"}, {"id": 55, "label": "Linha do Tiro", "x": 2852.2671026311796, "y": 3279.609309526563, "microrregiao": "2.2 / 2.3", "taxa_analfabetismo": 11.1, "taxa_alfabetizacao": 88.9, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 11006, "unidades": 7, "matriculas": 1595, "unidades_por_10k": 6.36, "matriculas_por_10k": 1449.21, "categoria": "critico", "categoria_micro": "critico"}, {"id": 56, "label": "Macaxeira", "x": 2547.1078377613617, "y": 3596.07797022345, "microrregiao": "3.3", "taxa_analfabetismo": 8.8, "taxa_alfabetizacao": 91.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 7336, "unidades": 8, "matriculas": 1307, "unidades_por_10k": 10.91, "matriculas_por_10k": 1781.62, "categoria": "critico", "categoria_micro": "critico"}, {"id": 57, "label": "Madalena", "x": 3583.2563611283945, "y": 3791.9914320304665, "microrregiao": "4.1", "taxa_analfabetismo": 8.6, "taxa_alfabetizacao": 91.4, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 8.7, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 23082, "unidades": 6, "matriculas": 304, "unidades_por_10k": 2.6, "matriculas_por_10k": 131.7, "categoria": "critico", "categoria_micro": "critico"}, {"id": 58, "label": "Mangabeira", "x": 743.0951319762835, "y": 3798.213064709597, "microrregiao": "3.2", "taxa_analfabetismo": 8.8, "taxa_alfabetizacao": 91.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 8759, "unidades": 2, "matriculas": 564, "unidades_por_10k": 2.28, "matriculas_por_10k": 643.91, "categoria": "critico", "categoria_micro": "critico"}, {"id": 59, "label": "Mangueira", "x": 2300.0571896127944, "y": 5482.4156057004675, "microrregiao": "5.1", "taxa_analfabetismo": 8.8, "taxa_alfabetizacao": 91.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 8.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 11086, "unidades": 1, "matriculas": 96, "unidades_por_10k": 0.9, "matriculas_por_10k": 86.6, "categoria": "critico", "categoria_micro": "critico"}, {"id": 60, "label": "Monteiro", "x": 5501.289794828345, "y": 2935.4150495724184, "microrregiao": "3.1", "taxa_analfabetismo": 5.9, "taxa_alfabetizacao": 94.1, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 5317, "unidades": 2, "matriculas": 114, "unidades_por_10k": 3.76, "matriculas_por_10k": 214.41, "categoria": "bom", "categoria_micro": "bom"}, {"id": 61, "label": "Morro da Concei\u00e7\u00e3o", "x": 1391.262783934482, "y": 4037.0518569836768, "microrregiao": "3.2", "taxa_analfabetismo": 12.6, "taxa_alfabetizacao": 87.4, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 10182, "unidades": 5, "matriculas": 215, "unidades_por_10k": 4.91, "matriculas_por_10k": 211.16, "categoria": "critico", "categoria_micro": "critico"}, {"id": 62, "label": "Mustardinha", "x": 1754.7162397510867, "y": 5738.891391238483, "microrregiao": "5.1", "taxa_analfabetismo": 8.5, "taxa_alfabetizacao": 91.5, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 8.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 12429, "unidades": 3, "matriculas": 564, "unidades_por_10k": 2.41, "matriculas_por_10k": 453.78, "categoria": "critico", "categoria_micro": "critico"}, {"id": 63, "label": "Nova Descoberta", "x": 2770.21792493946, "y": 4265.838621264555, "microrregiao": "3.3", "taxa_analfabetismo": 9.2, "taxa_alfabetizacao": 90.8, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 9400, "unidades": 17, "matriculas": 2456, "unidades_por_10k": 18.09, "matriculas_por_10k": 2612.77, "categoria": "critico", "categoria_micro": "critico"}, {"id": 64, "label": "Paissandu", "x": 2378.881523416881, "y": 581.4511851355419, "microrregiao": "1.2", "taxa_analfabetismo": 5.7, "taxa_alfabetizacao": 94.3, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 3.3, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 507, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "bom", "categoria_micro": "bom"}, {"id": 65, "label": "Parnamirim", "x": 4296.697782204911, "y": 2543.665458771249, "microrregiao": "3.1", "taxa_analfabetismo": 6.4, "taxa_alfabetizacao": 93.6, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 7636, "unidades": 1, "matriculas": 186, "unidades_por_10k": 1.31, "matriculas_por_10k": 243.58, "categoria": "regular", "categoria_micro": "bom"}, {"id": 66, "label": "Passarinho", "x": 2460.964913035066, "y": 4452.744604170309, "microrregiao": "3.3", "taxa_analfabetismo": 15.7, "taxa_alfabetizacao": 84.3, "faixa_analfabetismo": "Cr\u00edtico (>=15%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 5856, "unidades": 6, "matriculas": 822, "unidades_por_10k": 10.25, "matriculas_por_10k": 1403.69, "categoria": "critico", "categoria_micro": "critico"}, {"id": 67, "label": "Pau-ferro", "x": 2989.753760649511, "y": 4000.9526293676463, "microrregiao": "3.3", "taxa_analfabetismo": 7.5, "taxa_alfabetizacao": 92.5, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 11.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 6884, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "regular", "categoria_micro": "critico"}, {"id": 68, "label": "Peixinhos", "x": 93.093904865369, "y": 2349.6231357736247, "microrregiao": "2.1", "taxa_analfabetismo": 18.6, "taxa_alfabetizacao": 81.4, "faixa_analfabetismo": "Cr\u00edtico (>=15%)", "taxa_analfabetismo_micro": 11.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 16717, "unidades": 3, "matriculas": 250, "unidades_por_10k": 1.79, "matriculas_por_10k": 149.55, "categoria": "critico", "categoria_micro": "critico"}, {"id": 69, "label": "Pina", "x": 1598.4180762414583, "y": 6651.060479836192, "microrregiao": "6.1", "taxa_analfabetismo": 7.8, "taxa_alfabetizacao": 92.2, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 4.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 29176, "unidades": 8, "matriculas": 1859, "unidades_por_10k": 2.74, "matriculas_por_10k": 637.17, "categoria": "regular", "categoria_micro": "bom"}, {"id": 70, "label": "Ponto de Parada", "x": 890.6228134492004, "y": 2821.924116051496, "microrregiao": "2.1", "taxa_analfabetismo": 4.6, "taxa_alfabetizacao": 95.4, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 11.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 1684, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "bom", "categoria_micro": "critico"}, {"id": 71, "label": "Porto da Madeira", "x": 1615.3723706329206, "y": 2545.381592752108, "microrregiao": "2.2", "taxa_analfabetismo": 15.3, "taxa_alfabetizacao": 84.7, "faixa_analfabetismo": "Cr\u00edtico (>=15%)", "taxa_analfabetismo_micro": 10.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 5087, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "critico", "categoria_micro": "critico"}, {"id": 72, "label": "Po\u00e7o", "x": 5048.952335063659, "y": 1833.9999759854093, "microrregiao": "3.1", "taxa_analfabetismo": 7.2, "taxa_alfabetizacao": 92.8, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 4571, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "regular", "categoria_micro": "bom"}, {"id": 73, "label": "Prado", "x": 3923.7548608558636, "y": 3604.773704065774, "microrregiao": "4.1", "taxa_analfabetismo": 6.2, "taxa_alfabetizacao": 93.8, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 8.7, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 10814, "unidades": 3, "matriculas": 392, "unidades_por_10k": 2.77, "matriculas_por_10k": 362.49, "categoria": "regular", "categoria_micro": "critico"}, {"id": 74, "label": "Recife", "x": 1233.8004634368995, "y": 1016.897777829628, "microrregiao": "1.1", "taxa_analfabetismo": 18.3, "taxa_alfabetizacao": 81.7, "faixa_analfabetismo": "Cr\u00edtico (>=15%)", "taxa_analfabetismo_micro": 9.7, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 602, "unidades": 5, "matriculas": 465, "unidades_por_10k": 83.06, "matriculas_por_10k": 7724.25, "categoria": "critico", "categoria_micro": "critico"}, {"id": 75, "label": "Rosarinho", "x": 1000.9430456677827, "y": 2450.649875967806, "microrregiao": "2.1", "taxa_analfabetismo": 4.7, "taxa_alfabetizacao": 95.3, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 11.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 4077, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "bom", "categoria_micro": "critico"}, {"id": 76, "label": "San Martin", "x": 1697.5954645090344, "y": 5250.0676783470535, "microrregiao": "5.1", "taxa_analfabetismo": 10.2, "taxa_alfabetizacao": 89.8, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 8.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 13181, "unidades": 8, "matriculas": 1799, "unidades_por_10k": 6.07, "matriculas_por_10k": 1364.84, "categoria": "critico", "categoria_micro": "critico"}, {"id": 77, "label": "Sancho", "x": 4892.574973292656, "y": 5908.551315840272, "microrregiao": "5.3", "taxa_analfabetismo": 13.1, "taxa_alfabetizacao": 86.9, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.9, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 9111, "unidades": 3, "matriculas": 673, "unidades_por_10k": 3.29, "matriculas_por_10k": 738.67, "categoria": "critico", "categoria_micro": "critico"}, {"id": 78, "label": "Santana", "x": 5712.9404664253, "y": 2511.8519752364246, "microrregiao": "3.1", "taxa_analfabetismo": 11.1, "taxa_alfabetizacao": 88.9, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 3133, "unidades": 1, "matriculas": 0, "unidades_por_10k": 3.19, "matriculas_por_10k": 0.0, "categoria": "critico", "categoria_micro": "bom"}, {"id": 79, "label": "Santo Amaro", "x": 711.4236807370438, "y": 963.2311848725025, "microrregiao": "1.1", "taxa_analfabetismo": 9.5, "taxa_alfabetizacao": 90.5, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.7, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 27939, "unidades": 14, "matriculas": 1241, "unidades_por_10k": 5.01, "matriculas_por_10k": 444.18, "categoria": "critico", "categoria_micro": "critico"}, {"id": 80, "label": "Santo Ant\u00f4nio", "x": 2805.14575442817, "y": 694.436897952053, "microrregiao": "1.2", "taxa_analfabetismo": 0.7, "taxa_alfabetizacao": 99.3, "faixa_analfabetismo": "Quase perfeito (<2%)", "taxa_analfabetismo_micro": 3.3, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 285, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "excelente", "categoria_micro": "bom"}, {"id": 81, "label": "Soledade", "x": 2936.5834429306988, "y": 962.8391464499763, "microrregiao": "1.2", "taxa_analfabetismo": 1.8, "taxa_alfabetizacao": 98.2, "faixa_analfabetismo": "Quase perfeito (<2%)", "taxa_analfabetismo_micro": 3.3, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 2495, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "excelente", "categoria_micro": "bom"}, {"id": 82, "label": "S\u00e3o Jos\u00e9", "x": 2385.2720799719173, "y": 1436.9637481030734, "microrregiao": "1.2", "taxa_analfabetismo": 6.5, "taxa_alfabetizacao": 93.5, "faixa_analfabetismo": "Na m\u00e9dia nacional (6% a 8%)", "taxa_analfabetismo_micro": 3.3, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 8688, "unidades": 1, "matriculas": 81, "unidades_por_10k": 1.15, "matriculas_por_10k": 93.23, "categoria": "regular", "categoria_micro": "bom"}, {"id": 83, "label": "S\u00edtio dos Pintos", "x": 5515.117803225833, "y": 2046.7673799477718, "microrregiao": "3.1", "taxa_analfabetismo": 8.5, "taxa_alfabetizacao": 91.5, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 7276, "unidades": 1, "matriculas": 281, "unidades_por_10k": 1.37, "matriculas_por_10k": 386.2, "categoria": "critico", "categoria_micro": "bom"}, {"id": 84, "label": "Tamarineira", "x": 4486.281253612957, "y": 2042.0800685881825, "microrregiao": "3.1", "taxa_analfabetismo": 1.1, "taxa_alfabetizacao": 98.9, "faixa_analfabetismo": "Quase perfeito (<2%)", "taxa_analfabetismo_micro": 3.7, "faixa_analfabetismo_micro": "Melhor que a m\u00e9dia nacional (2% a <6%)", "populacao": 23085, "unidades": 4, "matriculas": 165, "unidades_por_10k": 1.73, "matriculas_por_10k": 71.47, "categoria": "excelente", "categoria_micro": "bom"}, {"id": 85, "label": "Tejipi\u00f3", "x": 5291.594358787455, "y": 5136.5348271769735, "microrregiao": "5.3", "taxa_analfabetismo": 12.7, "taxa_alfabetizacao": 87.3, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.9, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 17770, "unidades": 2, "matriculas": 447, "unidades_por_10k": 1.13, "matriculas_por_10k": 251.55, "categoria": "critico", "categoria_micro": "critico"}, {"id": 86, "label": "Torre", "x": 3900.9585990464384, "y": 4352.700165938355, "microrregiao": "4.1", "taxa_analfabetismo": 5.1, "taxa_alfabetizacao": 94.9, "faixa_analfabetismo": "Melhor que a m\u00e9dia nacional (2% a <6%)", "taxa_analfabetismo_micro": 8.7, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 13904, "unidades": 4, "matriculas": 579, "unidades_por_10k": 2.88, "matriculas_por_10k": 416.43, "categoria": "bom", "categoria_micro": "critico"}, {"id": 87, "label": "Torre\u00e3o", "x": 847.8943259867549, "y": 2203.093886574649, "microrregiao": "2.1", "taxa_analfabetismo": 1.9, "taxa_alfabetizacao": 98.1, "faixa_analfabetismo": "Quase perfeito (<2%)", "taxa_analfabetismo_micro": 11.3, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 1083, "unidades": 1, "matriculas": 132, "unidades_por_10k": 9.23, "matriculas_por_10k": 1218.84, "categoria": "excelente", "categoria_micro": "critico"}, {"id": 88, "label": "Torr\u00f5es", "x": 5773.942679845788, "y": 3952.5010755222665, "microrregiao": "4.2", "taxa_analfabetismo": 11.2, "taxa_alfabetizacao": 88.8, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 32015, "unidades": 10, "matriculas": 1467, "unidades_por_10k": 3.12, "matriculas_por_10k": 458.22, "categoria": "critico", "categoria_micro": "critico"}, {"id": 89, "label": "Tot\u00f3", "x": 4603.614237419666, "y": 5649.914071483355, "microrregiao": "5.3", "taxa_analfabetismo": 14.8, "taxa_alfabetizacao": 85.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.9, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 12445, "unidades": 2, "matriculas": 51, "unidades_por_10k": 1.61, "matriculas_por_10k": 40.98, "categoria": "critico", "categoria_micro": "critico"}, {"id": 90, "label": "Vasco da Gama", "x": 1088.000427176095, "y": 4346.764730189904, "microrregiao": "3.2", "taxa_analfabetismo": 8.2, "taxa_alfabetizacao": 91.8, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 9.0, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 31025, "unidades": 11, "matriculas": 1628, "unidades_por_10k": 3.55, "matriculas_por_10k": 524.74, "categoria": "critico", "categoria_micro": "critico"}, {"id": 91, "label": "V\u00e1rzea", "x": 344.9400505140396, "y": 5220.784708818241, "microrregiao": "4.3", "taxa_analfabetismo": 12.8, "taxa_alfabetizacao": 87.2, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 11.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 34001, "unidades": 16, "matriculas": 2443, "unidades_por_10k": 4.71, "matriculas_por_10k": 718.51, "categoria": "critico", "categoria_micro": "critico"}, {"id": 92, "label": "Zumbi", "x": 4294.848775532565, "y": 4279.244791074833, "microrregiao": "4.1", "taxa_analfabetismo": 14.1, "taxa_alfabetizacao": 85.9, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 8.7, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 30146, "unidades": 0, "matriculas": 0, "unidades_por_10k": 0.0, "matriculas_por_10k": 0.0, "categoria": "critico", "categoria_micro": "critico"}, {"id": 93, "label": "\u00c1gua Fria", "x": 2166.682518995254, "y": 2843.1858332960674, "microrregiao": "2.2", "taxa_analfabetismo": 9.6, "taxa_alfabetizacao": 90.4, "faixa_analfabetismo": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "taxa_analfabetismo_micro": 10.4, "faixa_analfabetismo_micro": "Abaixo da m\u00e9dia nacional (>8% e <15%)", "populacao": 43529, "unidades": 15, "matriculas": 2074, "unidades_por_10k": 3.45, "matriculas_por_10k": 476.46, "categoria": "critico", "categoria_micro": "critico"}];
        const edges = [{"from": 3, "to": 58, "label": "Rua Aripibu", "peso": 29.85}, {"from": 57, "to": 73, "label": "Praca Na Rua Joao Crescencio", "peso": 37.33}, {"from": 36, "to": 38, "label": "Rua Conselheiro Portela", "peso": 39.05}, {"from": 1, "to": 62, "label": "Rua Orlandia", "peso": 39.93}, {"from": 4, "to": 13, "label": "Rua Alto do Tiro", "peso": 41.0}, {"from": 21, "to": 70, "label": "Rua Professor Jeronimo Gueiros", "peso": 47.09}, {"from": 15, "to": 69, "label": "Rua Dentudo", "peso": 51.9}, {"from": 22, "to": 60, "label": "Rua Iguatama", "peso": 57.87}, {"from": 17, "to": 66, "label": "Avenida Presidente Cafe Filho", "peso": 58.0}, {"from": 35, "to": 66, "label": "Rua Vale Fundo", "peso": 58.94}, {"from": 56, "to": 63, "label": "Rua Nage", "peso": 62.85}, {"from": 5, "to": 60, "label": "Rua Tramandai", "peso": 66.33}, {"from": 31, "to": 52, "label": "Rua Raphael De Oliveira Alves", "peso": 68.49}, {"from": 3, "to": 13, "label": "Rua Campos Belos", "peso": 69.54}, {"from": 4, "to": 2, "label": "Rua Arlindo Cisneiros", "peso": 72.0}, {"from": 4, "to": 55, "label": "Rua Arlindo Cisneiros", "peso": 72.0}, {"from": 47, "to": 45, "label": "Avenida Beira Rio", "peso": 76.03}, {"from": 93, "to": 13, "label": "Rua Turiuba", "peso": 76.43}, {"from": 30, "to": 88, "label": "Rua Daniel Lisboa", "peso": 81.91}, {"from": 16, "to": 32, "label": "Rua Assaituba", "peso": 84.27}, {"from": 79, "to": 80, "label": "Rua Princesa Isabel", "peso": 91.36}, {"from": 80, "to": 82, "label": "Rua Do Porao", "peso": 94.58}, {"from": 17, "to": 35, "label": "Rua Izaltino Lobo", "peso": 95.66}, {"from": 38, "to": 41, "label": "Rua Conselheiro Portela", "peso": 100.77}, {"from": 39, "to": 53, "label": "Rua Cassiano", "peso": 102.45}, {"from": 28, "to": 9, "label": "Rua Jos\u00e9 Caetano", "peso": 108.0}, {"from": 28, "to": 44, "label": "Rua Jos\u00e9 Caetano", "peso": 108.0}, {"from": 17, "to": 63, "label": "Rua Urandi", "peso": 108.15}, {"from": 31, "to": 89, "label": "Rua Garcia", "peso": 108.58}, {"from": 6, "to": 56, "label": "Rua Do Banho", "peso": 109.77}, {"from": 21, "to": 43, "label": "Rua Padre Villemain", "peso": 113.6}, {"from": 16, "to": 66, "label": "Avenida Presidente Cafe Filho", "peso": 114.06}, {"from": 4, "to": 3, "label": "Rua Arlindo Cisneiros", "peso": 115.0}, {"from": 44, "to": 54, "label": "Rua Boquira", "peso": 115.52}, {"from": 26, "to": 91, "label": "Rua Barao De Mamore", "peso": 116.77}, {"from": 75, "to": 84, "label": "Rua Capitao Sampaio Xavier", "peso": 117.37}, {"from": 2, "to": 3, "label": "Rua Corrego Jose Grande", "peso": 120.48}, {"from": 16, "to": 63, "label": "Rua Teolandia", "peso": 121.67}, {"from": 57, "to": 92, "label": "Rua Joao Da Mata", "peso": 123.82}, {"from": 36, "to": 41, "label": "Rua Conselheiro Portela", "peso": 124.63}, {"from": 63, "to": 90, "label": "Rua Bemposta", "peso": 124.87}, {"from": 29, "to": 89, "label": "Rua Escada", "peso": 128.39}, {"from": 36, "to": 87, "label": "Rua Natividade Saldanha", "peso": 128.73}, {"from": 52, "to": 85, "label": "Rua Iraguacu", "peso": 131.23}, {"from": 41, "to": 51, "label": "Rua Antonio Celso Uchoa Cavalcanti", "peso": 132.18}, {"from": 16, "to": 17, "label": "Avenida Presidente Cafe Filho", "peso": 133.4}, {"from": 2, "to": 90, "label": "Rua Aratuba", "peso": 135.17}, {"from": 9, "to": 85, "label": "Rua Capy", "peso": 135.95}, {"from": 10, "to": 55, "label": "Avenida Hildebrando De Vasconcelos", "peso": 142.86}, {"from": 2, "to": 17, "label": "Rua Uriel De Holanda", "peso": 143.9}, {"from": 12, "to": 81, "label": "Rua Bispo Cardoso Ayres", "peso": 144.74}, {"from": 35, "to": 55, "label": "Rua Izaltino Lobo", "peso": 144.74}, {"from": 93, "to": 40, "label": "Rua Contendas", "peso": 145.65}, {"from": 37, "to": 88, "label": "Rua Dr Miguel Vieira Ferreira", "peso": 148.89}, {"from": 17, "to": 55, "label": "Rua Izaltino Lobo", "peso": 154.96}, {"from": 41, "to": 75, "label": "Rua Teles Junior", "peso": 159.83}, {"from": 6, "to": 60, "label": "Rua Mandacaru", "peso": 160.86}, {"from": 33, "to": 47, "label": "Avenida Beira Rio", "peso": 161.09}, {"from": 33, "to": 57, "label": "Avenida Beira Rio", "peso": 161.09}, {"from": 23, "to": 65, "label": "Rua Da Harmonia", "peso": 168.23}, {"from": 8, "to": 13, "label": "Rua Professor Manuel Torres", "peso": 168.69}, {"from": 1, "to": 14, "label": "Rua Professor Celestin Malzac", "peso": 171.82}, {"from": 57, "to": 86, "label": "Avenida Beira Rio", "peso": 177.05}, {"from": 7, "to": 9, "label": "Rua Armando Sales De Oliveira", "peso": 177.53}, {"from": 74, "to": 80, "label": "Ponte Maur\u00edcio de Nassau", "peso": 180.0}, {"from": 11, "to": 69, "label": "Rua Delegado Tercio Soares De Aquino", "peso": 182.89}, {"from": 22, "to": 61, "label": "Rua Joaquim Teixeira", "peso": 188.34}, {"from": 11, "to": 48, "label": "Rua Capitao Vicente Da Mota", "peso": 193.4}, {"from": 22, "to": 23, "label": "Rua Joao Barbalho", "peso": 194.98}, {"from": 74, "to": 82, "label": "Ponte 12 de Setembro", "peso": 195.0}, {"from": 65, "to": 84, "label": "Rua Albino Meira", "peso": 196.16}, {"from": 20, "to": 68, "label": "Rua Jornalista Paulo Matos", "peso": 196.42}, {"from": 43, "to": 70, "label": "Rua Costa Pinto", "peso": 196.92}, {"from": 5, "to": 56, "label": "Rua Aroeira", "peso": 202.19}, {"from": 39, "to": 52, "label": "Rua Alfredo Vieira De Melo", "peso": 205.71}, {"from": 8, "to": 58, "label": "Rua Jacob", "peso": 206.67}, {"from": 14, "to": 62, "label": "Rua Itapolis", "peso": 206.94}, {"from": 62, "to": 76, "label": "Rua Itaquari", "peso": 210.23}, {"from": 0, "to": 41, "label": "Rua Teles Junior", "peso": 212.27}, {"from": 12, "to": 33, "label": "Rua Paissandu", "peso": 212.41}, {"from": 12, "to": 27, "label": "Rua Jornalista Edmundo Bittencourt", "peso": 213.19}, {"from": 32, "to": 56, "label": "Rua Trajano De Morais", "peso": 214.3}, {"from": 51, "to": 84, "label": "Rua Simao Mendes", "peso": 221.7}, {"from": 29, "to": 85, "label": "Rua Tutoia", "peso": 222.82}, {"from": 22, "to": 84, "label": "Rua Desembargador Gois Cavalcante", "peso": 224.14}, {"from": 8, "to": 21, "label": "Rua Petronila Botelho", "peso": 229.73}, {"from": 0, "to": 36, "label": "Rua Samuel Campelo", "peso": 231.42}, {"from": 36, "to": 75, "label": "Rua Teles Junior", "peso": 232.62}, {"from": 18, "to": 82, "label": "Rua Bom Sucesso", "peso": 235.15}, {"from": 7, "to": 39, "label": "Rua Dr Adelino Filho", "peso": 242.09}, {"from": 41, "to": 84, "label": "Rua Capitao Sampaio Xavier", "peso": 244.62}, {"from": 72, "to": 60, "label": "Estrada do Encanamento", "peso": 245.0}, {"from": 46, "to": 64, "label": "Rua Dr Joao Asfora", "peso": 246.51}, {"from": 14, "to": 73, "label": "Rua Professor Mario Ramos", "peso": 248.83}, {"from": 19, "to": 20, "label": "Rua Nadia", "peso": 254.48}, {"from": 0, "to": 38, "label": "Avenida Conselheiro Rosa E Silva", "peso": 263.32}, {"from": 36, "to": 70, "label": "Rua Costa Pinto", "peso": 265.9}, {"from": 13, "to": 58, "label": "Rua Jacob", "peso": 266.48}, {"from": 1, "to": 59, "label": "Rua Vereador Francisco De Paula Santana", "peso": 268.13}, {"from": 59, "to": 76, "label": "Rua Tanguara", "peso": 270.67}, {"from": 93, "to": 20, "label": "Rua Coronel Urbano Ribeiro De Sena", "peso": 272.88}, {"from": 10, "to": 71, "label": "Rua Dona Virtuosa De Lucena", "peso": 276.19}, {"from": 86, "to": 92, "label": "Rua Souza Bandeira", "peso": 277.3}, {"from": 61, "to": 90, "label": "Rua Corrego Do Ouro", "peso": 279.5}, {"from": 22, "to": 65, "label": "Rua Da Estrela", "peso": 280.12}, {"from": 40, "to": 71, "label": "Avenida Anibal Benevolo", "peso": 287.89}, {"from": 36, "to": 43, "label": "Rua Costa Pinto", "peso": 293.18}, {"from": 8, "to": 70, "label": "Rua Petronila Botelho", "peso": 294.86}, {"from": 17, "to": 90, "label": "Rua Grijalva Costa", "peso": 298.99}, {"from": 27, "to": 80, "label": "Rua Doutor Jose Mariano", "peso": 299.14}, {"from": 74, "to": 79, "label": "Ponte do Limoeiro", "peso": 300.0}, {"from": 21, "to": 87, "label": "Rua Da Fronteira", "peso": 309.43}, {"from": 51, "to": 65, "label": "Rua Muniz Tavares", "peso": 311.31}, {"from": 19, "to": 71, "label": "Rua Para", "peso": 315.29}, {"from": 47, "to": 57, "label": "Rua Joao Ivo Da Silva", "peso": 321.53}, {"from": 6, "to": 34, "label": "Entrada Br 101-Avenida Norte", "peso": 325.98}, {"from": 30, "to": 92, "label": "Rua Padre Leonardo Greco", "peso": 330.27}, {"from": 12, "to": 80, "label": "Rua Princesa Isabel", "peso": 334.97}, {"from": 48, "to": 49, "label": "Rua Jose Fernandes Portugal", "peso": 338.65}, {"from": 33, "to": 64, "label": "Rua Viscondessa Do Livramento", "peso": 340.09}, {"from": 29, "to": 77, "label": "Rua Paulino De Farias", "peso": 343.94}, {"from": 21, "to": 36, "label": "Rua Cristovao Jaques", "peso": 344.86}, {"from": 5, "to": 6, "label": "Rua Massaranduba", "peso": 348.17}, {"from": 12, "to": 79, "label": "Rua Do Principe", "peso": 355.79}, {"from": 72, "to": 22, "label": "Rua Engenheiro Oscar Ferreira", "peso": 363.0}, {"from": 12, "to": 64, "label": "Rua General Joaquim Inacio", "peso": 363.79}, {"from": 27, "to": 46, "label": "Rua Jose De Alencar", "peso": 367.04}, {"from": 70, "to": 75, "label": "Rua Almirante Noronha De Carvalho", "peso": 372.98}, {"from": 53, "to": 76, "label": "Rua Cordelia Gois Silva", "peso": 373.33}, {"from": 79, "to": 81, "label": "Rua Bispo Cardoso Ayres", "peso": 377.79}, {"from": 30, "to": 37, "label": "Rua Bom Pastor", "peso": 378.02}, {"from": 93, "to": 8, "label": "Rua Sao Bento", "peso": 379.35}, {"from": 78, "to": 86, "label": "Avenida Beira Rio", "peso": 384.28}, {"from": 2, "to": 55, "label": "Rua Gustavo Barrozo", "peso": 385.65}, {"from": 2, "to": 61, "label": "Rua Corrego Do Ouro", "peso": 394.34}, {"from": 77, "to": 85, "label": "Rua Matoso Da Camara", "peso": 399.87}, {"from": 93, "to": 71, "label": "Rua Conselheiro Barros Barreto", "peso": 413.84}, {"from": 77, "to": 89, "label": "Rua Do Nascente", "peso": 420.9}, {"from": 1, "to": 53, "label": "Rua Bom Jardim", "peso": 424.78}, {"from": 30, "to": 50, "label": "Avenida Camarao", "peso": 428.68}, {"from": 33, "to": 41, "label": "Rua Guilherme Pinto", "peso": 437.43}, {"from": 72, "to": 23, "label": "Estrada do Encanamento", "peso": 444.0}, {"from": 32, "to": 63, "label": "Rua Alto Santa Luzia", "peso": 448.61}, {"from": 12, "to": 46, "label": "Rua Visconde De Goiana", "peso": 450.56}, {"from": 73, "to": 92, "label": "Rua Caratinga", "peso": 457.11}, {"from": 31, "to": 76, "label": "Rua Dr Flavio Ferreira Da Silva Marojo", "peso": 475.99}, {"from": 26, "to": 50, "label": "Rua Mauriceia", "peso": 484.48}, {"from": 14, "to": 76, "label": "Rua Acajutiba", "peso": 488.14}, {"from": 48, "to": 69, "label": "Rua Sao Jose", "peso": 504.4}, {"from": 1, "to": 73, "label": "Rua Santa Edwirges", "peso": 534.89}, {"from": 19, "to": 40, "label": "Avenida Nova Do Fundao", "peso": 550.74}, {"from": 76, "to": 88, "label": "Avenida Recife", "peso": 559.87}, {"from": 83, "to": 34, "label": "Rua Dois Irm\u00e3os", "peso": 602.0}, {"from": 16, "to": 42, "label": "Avenida Embaixador Assis Chateaubriand", "peso": 603.06}, {"from": 26, "to": 37, "label": "Rua General Vargas", "peso": 609.94}, {"from": 31, "to": 88, "label": "Rua Vinte E Um De Abril", "peso": 620.72}, {"from": 5, "to": 22, "label": "Avenida Doutor Eurico Chaves", "peso": 632.25}, {"from": 53, "to": 59, "label": "Rua Bom Jardim", "peso": 645.29}, {"from": 5, "to": 63, "label": "Avenida Norte Miguel Arraes De Alencar", "peso": 655.79}, {"from": 51, "to": 78, "label": "Rua Leonardo Bezerra Cavalcanti", "peso": 666.14}, {"from": 69, "to": 82, "label": "Avenida Ant\u00f4nio de Goes", "peso": 700.0}, {"from": 31, "to": 37, "label": "Avenida Visconde De Sao Leopoldo", "peso": 708.99}, {"from": 65, "to": 78, "label": "Rua Leonardo Bezerra Cavalcanti", "peso": 709.22}, {"from": 4, "to": 93, "label": "Rua Tamboara", "peso": 718.0}, {"from": 44, "to": 48, "label": "Rua Goncalves De Magalhaes", "peso": 734.33}, {"from": 23, "to": 78, "label": "Avenida Dezessete De Agosto", "peso": 739.83}, {"from": 7, "to": 25, "label": "Rua Aurora Cacote", "peso": 752.91}, {"from": 8, "to": 20, "label": "Rua Expedicionario Jamil Dagli", "peso": 759.53}, {"from": 8, "to": 68, "label": "Rua Expedicionario Jamil Dagli", "peso": 771.42}, {"from": 59, "to": 62, "label": "Rua Vinte E Um De Abril", "peso": 783.53}, {"from": 21, "to": 79, "label": "Rua Projetada", "peso": 849.75}, {"from": 18, "to": 69, "label": "Ponte Governador Paulo Guerra", "peso": 850.0}, {"from": 20, "to": 40, "label": "Rua Coronel Urbano Ribeiro De Sena", "peso": 856.13}, {"from": 7, "to": 53, "label": "Avenida Central", "peso": 862.25}, {"from": 10, "to": 35, "label": "Avenida Rio Morno", "peso": 886.9}, {"from": 37, "to": 50, "label": "Rua General Vargas", "peso": 894.11}, {"from": 6, "to": 32, "label": "Avenida Norte Miguel Arraes De Alencar", "peso": 905.91}, {"from": 24, "to": 50, "label": "Rua Ministro Joao Alberto", "peso": 946.87}, {"from": 30, "to": 86, "label": "Rua Souza Bandeira", "peso": 965.6}, {"from": 3, "to": 61, "label": "Avenida Norte Miguel Arraes De Alencar", "peso": 966.85}, {"from": 45, "to": 82, "label": "Rua Cabo Eutropio", "peso": 987.16}, {"from": 50, "to": 91, "label": "Rua Emiliano Braga", "peso": 1015.78}, {"from": 52, "to": 76, "label": "Avenida Recife", "peso": 1069.97}, {"from": 8, "to": 84, "label": "Estrada Velha De Agua Fria", "peso": 1070.64}, {"from": 41, "to": 57, "label": "Avenida Beira Rio", "peso": 1079.0}, {"from": 1, "to": 47, "label": "Rua Padre Teofilo Tworz", "peso": 1094.38}, {"from": 47, "to": 73, "label": "Rua Padre Teofilo Tworz", "peso": 1118.1}, {"from": 38, "to": 87, "label": "Avenida Norte Miguel Arraes De Alencar", "peso": 1135.74}, {"from": 31, "to": 91, "label": "Rua Historiador Luiz Do Nascimento", "peso": 1139.6}, {"from": 12, "to": 38, "label": "Avenida Joao De Barros", "peso": 1172.63}, {"from": 26, "to": 31, "label": "Avenida Professor Luiz Freire", "peso": 1205.38}, {"from": 30, "to": 73, "label": "Avenida General San Martin", "peso": 1224.98}, {"from": 41, "to": 86, "label": "Avenida Beira Rio", "peso": 1240.84}, {"from": 31, "to": 77, "label": "Avenida Liberdade", "peso": 1260.98}, {"from": 22, "to": 58, "label": "Avenida Professor Jose Dos Anjos", "peso": 1291.58}, {"from": 11, "to": 54, "label": "Rua Canal Do Jordao", "peso": 1305.13}, {"from": 93, "to": 10, "label": "Avenida Anibal Benevolo", "peso": 1337.76}, {"from": 72, "to": 78, "label": "Avenida Dezessete de Agosto", "peso": 1360.0}, {"from": 34, "to": 42, "label": "Rua Limite De Municipio", "peso": 1360.47}, {"from": 25, "to": 49, "label": "Avenida Recife", "peso": 1452.3}, {"from": 93, "to": 55, "label": "Avenida Anibal Benevolo", "peso": 1475.7}, {"from": 21, "to": 68, "label": "Avenida Correia De Brito", "peso": 1553.3}, {"from": 38, "to": 79, "label": "Avenida Joao De Barros", "peso": 1596.38}, {"from": 31, "to": 85, "label": "Avenida Liberdade", "peso": 1619.99}, {"from": 1, "to": 18, "label": "Avenida Sul Gov. Cid Sampaio", "peso": 450.0}, {"from": 73, "to": 76, "label": "Avenida General San Martin", "peso": 1899.57}, {"from": 58, "to": 84, "label": "Avenida Professor Jose Dos Anjos", "peso": 1908.33}, {"from": 42, "to": 66, "label": "Rua Limite De Municipio", "peso": 1917.32}, {"from": 6, "to": 24, "label": "Avenida Da Recuperacao", "peso": 2015.43}, {"from": 7, "to": 52, "label": "Avenida Central", "peso": 2039.99}, {"from": 39, "to": 76, "label": "Avenida Recife", "peso": 2102.86}, {"from": 30, "to": 76, "label": "Avenida Engenheiro Abdias De Carvalho", "peso": 2139.0}, {"from": 52, "to": 53, "label": "Avenida Central", "peso": 2317.7}, {"from": 8, "to": 75, "label": "Avenida Professor Jose Dos Anjos", "peso": 2534.02}, {"from": 22, "to": 63, "label": "Avenida Norte Miguel Arraes De Alencar", "peso": 2916.34}, {"from": 9, "to": 52, "label": "Avenida Central", "peso": 3320.07}, {"from": 7, "to": 49, "label": "Avenida Recife", "peso": 3352.46}, {"from": 79, "to": 87, "label": "Avenida Norte Miguel Arraes De Alencar", "peso": 3421.94}, {"from": 3, "to": 22, "label": "Avenida Norte Miguel Arraes De Alencar", "peso": 3445.6}, {"from": 24, "to": 91, "label": "Avenida Caxanga", "peso": 3470.48}, {"from": 22, "to": 90, "label": "Avenida Norte Miguel Arraes De Alencar", "peso": 3686.43}, {"from": 12, "to": 41, "label": "Avenida Governador Agamenon Magalhaes", "peso": 3893.66}, {"from": 24, "to": 34, "label": "Avenida Da Recuperacao", "peso": 4094.03}, {"from": 44, "to": 49, "label": "Avenida Recife", "peso": 4394.66}, {"from": 25, "to": 44, "label": "Avenida Recife", "peso": 4514.06}, {"from": 1, "to": 82, "label": "Avenida Sul Gov. Cid Sampaio", "peso": 4529.21}, {"from": 67, "to": 42, "label": "Estrada do Orfanato", "peso": 4710.0}, {"from": 1, "to": 45, "label": "Avenida Central", "peso": 4928.92}, {"from": 32, "to": 34, "label": "Avenida Da Recuperacao", "peso": 5093.86}, {"from": 11, "to": 44, "label": "Avenida Marechal Mascarenhas De Moraes", "peso": 5557.85}, {"from": 7, "to": 44, "label": "Avenida Recife", "peso": 6414.22}, {"from": 1, "to": 48, "label": "Avenida Sul Gov. Cid Sampaio", "peso": 7645.21}, {"from": 32, "to": 42, "label": "Avenida Da Recuperacao", "peso": 8377.9}];
        const microregioes = [{"centro_x": 5495.722805841349, "centro_y": 3962.4110746685747, "raio": 378.3963117107078, "taxa_analfabetismo": 9.4, "categoria": "critico", "bairros": ["Torr\u00f5es", "Engenho do Meio"]}, {"centro_x": 3995.229594369455, "centro_y": 3987.597652039422, "raio": 556.0523415281243, "taxa_analfabetismo": 8.7, "categoria": "critico", "bairros": ["Ilha do Retiro", "Zumbi", "Torre", "Iputinga", "Madalena", "Prado", "Cordeiro"]}, {"centro_x": 511.94271387667163, "centro_y": 2496.133808774861, "raio": 609.7089504251144, "taxa_analfabetismo": 11.3, "categoria": "critico", "bairros": ["Rosarinho", "Ponto de Parada", "Hip\u00f3dromo", "Encruzilhada", "Campina do Barreto", "Peixinhos", "Campo Grande", "Arruda", "Torre\u00e3o"]}, {"centro_x": 4997.988549562286, "centro_y": 2496.2704371467075, "raio": 819.6743038741199, "taxa_analfabetismo": 3.7, "categoria": "bom", "bairros": ["Santana", "Casa Amarela", "Monteiro", "Gra\u00e7as", "Espinheiro", "Apipucos", "Jaqueira", "Casa Forte", "Parnamirim", "Aflitos", "Tamarineira", "Dois Irm\u00e3os", "Po\u00e7o", "Alto do Mandu", "S\u00edtio dos Pintos", "Derby"]}, {"centro_x": 3501.4560545853237, "centro_y": 5498.024009304248, "raio": 467.5228996410045, "taxa_analfabetismo": 7.8, "categoria": "regular", "bairros": ["Areias", "Jiqui\u00e1", "Ca\u00e7ote", "Est\u00e2ncia"]}, {"centro_x": 4008.9713878119296, "centro_y": 985.2739680140692, "raio": 392.6757939047483, "taxa_analfabetismo": 15.1, "categoria": "critico", "bairros": ["Coelhos", "Ilha Joana Bezerra"]}, {"centro_x": 501.51182098423624, "centro_y": 5495.9961750427565, "raio": 425.64466825629, "taxa_analfabetismo": 11.4, "categoria": "critico", "bairros": ["Caxang\u00e1", "Cidade Universit\u00e1ria", "V\u00e1rzea"]}, {"centro_x": 2500.4047999916374, "centro_y": 4001.2310478850545, "raio": 589.3490398619497, "taxa_analfabetismo": 11.0, "categoria": "critico", "bairros": ["Pau-ferro", "Nova Descoberta", "Passarinho", "Guabiraba", "Brejo de Beberibe", "Brejo da Guabiraba", "Macaxeira", "C\u00f3rrego do Jenipapo"]}, {"centro_x": 1998.1708415388782, "centro_y": 2500.142570641, "raio": 509.1540674514884, "taxa_analfabetismo": 10.4, "categoria": "critico", "bairros": ["Alto Santa Teresinha", "\u00c1gua Fria", "Cajueiro", "Porto da Madeira", "Fund\u00e3o", "Bomba do Hemet\u00e9rio"]}, {"centro_x": 1017.2236024187466, "centro_y": 4004.6408007113437, "raio": 475.4407887772047, "taxa_analfabetismo": 9.0, "categoria": "critico", "bairros": ["Morro da Concei\u00e7\u00e3o", "Vasco da Gama", "Alto Jos\u00e9 do Pinho", "Mangabeira", "Alto Jos\u00e9 Bonif\u00e1cio"]}, {"centro_x": 1991.6858848188735, "centro_y": 5511.795896288453, "raio": 493.6887544555961, "taxa_analfabetismo": 8.3, "categoria": "critico", "bairros": ["Mangueira", "Bongi", "Mustardinha", "San Martin", "Afogados"]}, {"centro_x": 3457.7432985268133, "centro_y": 7012.329631428693, "raio": 361.18320964686416, "taxa_analfabetismo": 8.2, "categoria": "critico", "bairros": ["Jord\u00e3o", "Ibura"]}, {"centro_x": 2502.355826933953, "centro_y": 999.3421674650338, "raio": 553.0135225827219, "taxa_analfabetismo": 3.3, "categoria": "bom", "bairros": ["Soledade", "Cabanga", "S\u00e3o Jos\u00e9", "Boa Vista", "Ilha do Leite", "Paissandu", "Santo Ant\u00f4nio"]}, {"centro_x": 4982.669640637154, "centro_y": 5495.11685144487, "raio": 573.3028096391416, "taxa_analfabetismo": 9.9, "categoria": "critico", "bairros": ["Barro", "Curado", "Sancho", "Tot\u00f3", "Jardim S\u00e3o Paulo", "Coqueiral", "Tejipi\u00f3"]}, {"centro_x": 5000.0, "centro_y": 7000.0, "raio": 100, "taxa_analfabetismo": 7.4, "categoria": "regular", "bairros": ["Cohab"]}, {"centro_x": 972.6120720869717, "centro_y": 990.0644813510653, "raio": 362.56313826557897, "taxa_analfabetismo": 9.7, "categoria": "critico", "bairros": ["Recife", "Santo Amaro"]}, {"centro_x": 3023.856075488637, "centro_y": 3001.5357477325974, "raio": 426.75324233289496, "taxa_analfabetismo": 11.0, "categoria": "critico", "bairros": ["Dois Unidos", "Linha do Tiro", "Beberibe"]}, {"centro_x": 1502.7274356035366, "centro_y": 6990.183217485665, "raio": 453.1955390170972, "taxa_analfabetismo": 4.7, "categoria": "bom", "bairros": ["Bras\u00edlia Teimosa", "Boa Viagem", "Ipsep", "Imbiribeira", "Pina"]}];

        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const tooltip = document.getElementById('tooltip');
        const selectMicro = document.getElementById('selectMicro');
        const btnResetFiltro = document.getElementById('btnResetFiltro');
        const inputBusca = document.getElementById('inputBusca');

        let offsetX = 0;
        let offsetY = 0;
        let scale = 1.0;
        let isDragging = false;
        let startX, startY;
        let bairroSelecionado = null;
        let microSelecionada = 'todas';
        let bairroBuscado = null;

        // Popular dropdown de microrregiões
        const microregioesUnicas = [...new Set(nodes.map(n => n.microrregiao))].sort();
        microregioesUnicas.forEach(micro => {
            const option = document.createElement('option');
            option.value = micro;
            const microInfo = microregioes.find(m => m.bairros && m.bairros.includes(nodes.find(n => n.microrregiao === micro)?.label));
            const taxa = microInfo ? microInfo.taxa_analfabetismo : 'N/A';
            option.textContent = `${micro} (Analfabetismo: ${taxa}%)`;
            selectMicro.appendChild(option);
        });

        selectMicro.addEventListener('change', (e) => {
            microSelecionada = e.target.value;
            bairroSelecionado = null;

            if (microSelecionada !== 'todas') {
                const microInfo = microregioes.find(m => {
                    const primeiroNo = nodes.find(n => n.microrregiao === microSelecionada);
                    return primeiroNo && m.bairros && m.bairros.includes(primeiroNo.label);
                });

                if (microInfo) {
                    offsetX = canvas.width / 2 - microInfo.centro_x * scale;
                    offsetY = canvas.height / 2 - microInfo.centro_y * scale;
                }
            }

            draw();
        });

        // Busca de bairro
        inputBusca.addEventListener('input', (e) => {
            const busca = e.target.value.trim().toLowerCase();
            if (busca.length === 0) {
                bairroBuscado = null;
                draw();
                return;
            }

            const bairroEncontrado = nodes.find(n =>
                n.label.toLowerCase().includes(busca)
            );

            if (bairroEncontrado) {
                bairroBuscado = bairroEncontrado.label;
                bairroSelecionado = bairroEncontrado.label;

                offsetX = canvas.width / 2 - bairroEncontrado.x * scale;
                offsetY = canvas.height / 2 - bairroEncontrado.y * scale;

                draw();
            } else {
                bairroBuscado = null;
                draw();
            }
        });

        btnResetFiltro.addEventListener('click', () => {
            microSelecionada = 'todas';
            selectMicro.value = 'todas';
            bairroSelecionado = null;
            bairroBuscado = null;
            inputBusca.value = '';
            scale = 1.0;
            offsetX = canvas.width / 2 - 3000;
            offsetY = canvas.height / 2 - 4000;
            draw();
        });

        function resizeCanvas() {
            const container = document.getElementById('canvasContainer');
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
            offsetX = canvas.width / 2 - 3000;
            offsetY = canvas.height / 2 - 4000;
            draw();
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        let hasMoved = false;

        canvas.addEventListener('mousedown', (e) => {
            isDragging = true;
            hasMoved = false;
            startX = e.clientX - offsetX;
            startY = e.clientY - offsetY;
            canvas.classList.add('dragging');
        });

        canvas.addEventListener('mousemove', (e) => {
            if (isDragging) {
                hasMoved = true;
                offsetX = e.clientX - startX;
                offsetY = e.clientY - startY;
                draw();
            }
            handleMouseMove(e);
        });

        canvas.addEventListener('mouseup', (e) => {
            if (!hasMoved) {
                const rect = canvas.getBoundingClientRect();
                const mouseX = (e.clientX - rect.left - offsetX) / scale;
                const mouseY = (e.clientY - rect.top - offsetY) / scale;

                let clicouEmBairro = false;
                for (const node of nodes) {
                    const raio = 18;
                    const dx = mouseX - node.x;
                    const dy = mouseY - node.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    if (dist < raio) {
                        if (bairroSelecionado === node.label) {
                            bairroSelecionado = null;
                        } else {
                            bairroSelecionado = node.label;
                        }
                        clicouEmBairro = true;
                        draw();
                        break;
                    }
                }

                if (!clicouEmBairro && bairroSelecionado) {
                    bairroSelecionado = null;
                    draw();
                }
            }

            isDragging = false;
            hasMoved = false;
            canvas.classList.remove('dragging');
        });

        canvas.addEventListener('mouseleave', () => {
            isDragging = false;
            canvas.classList.remove('dragging');
            tooltip.style.display = 'none';
        });

        canvas.addEventListener('wheel', (e) => {
            e.preventDefault();
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            const worldX = (mouseX - offsetX) / scale;
            const worldY = (mouseY - offsetY) / scale;

            const delta = e.deltaY > 0 ? 0.9 : 1.1;
            const newScale = Math.max(0.1, Math.min(5, scale * delta));
            scale = newScale;
            offsetX = mouseX - worldX * scale;
            offsetY = mouseY - worldY * scale;
            draw();
        });

        function getCorCategoria(categoria) {
            switch(categoria) {
                case 'excelente': return '#27ae60';
                case 'bom': return '#3498db';
                case 'regular': return '#f39c12';
                case 'critico': return '#e74c3c';
                default: return '#999';
            }
        }

        function handleMouseMove(e) {
            const rect = canvas.getBoundingClientRect();
            const mouseX = (e.clientX - rect.left - offsetX) / scale;
            const mouseY = (e.clientY - rect.top - offsetY) / scale;

            let found = false;
            for (const node of nodes) {
                const raio = 18;
                const dx = mouseX - node.x;
                const dy = mouseY - node.y;
                const dist = Math.sqrt(dx * dx + dy * dy);

                if (dist < raio) {
                    tooltip.innerHTML = `
                        <div class="tooltip-title">${node.label}</div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Taxa de Analfabetismo:</span>
                            <strong>${node.taxa_analfabetismo}%</strong>
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Taxa de Alfabetização:</span>
                            <strong>${node.taxa_alfabetizacao}%</strong>
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Faixa:</span> ${node.faixa_analfabetismo}
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Analfabetismo Micro:</span>
                            <strong>${node.taxa_analfabetismo_micro}%</strong>
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">População:</span> <strong>${node.populacao.toLocaleString()}</strong>
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Unidades Educacionais:</span> <strong>${node.unidades}</strong>
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Matrículas:</span> <strong>${node.matriculas.toLocaleString()}</strong>
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Unidades/10k hab:</span> <strong>${node.unidades_por_10k}</strong>
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Matrículas/10k hab:</span> <strong>${node.matriculas_por_10k}</strong>
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Microrregião:</span> ${node.microrregiao}
                        </div>
                    `;
                    tooltip.style.left = (e.clientX + 15) + 'px';
                    tooltip.style.top = (e.clientY + 15) + 'px';
                    tooltip.style.display = 'block';
                    found = true;
                    break;
                }
            }

            if (!found) {
                tooltip.style.display = 'none';
            }
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.save();
            ctx.translate(offsetX, offsetY);
            ctx.scale(scale, scale);

            // Determinar vizinhos se há bairro selecionado
            let vizinhosSet = null;
            let arestasVizinhos = new Set();
            if (bairroSelecionado) {
                vizinhosSet = new Set([bairroSelecionado]);
                edges.forEach(edge => {
                    const fromNode = nodes[edge.from];
                    const toNode = nodes[edge.to];
                    if (fromNode.label === bairroSelecionado) {
                        vizinhosSet.add(toNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    } else if (toNode.label === bairroSelecionado) {
                        vizinhosSet.add(fromNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    }
                });
            }

            // Determinar quais nós devem ser exibidos baseado no filtro
            const nodesFiltrados = microSelecionada === 'todas'
                ? nodes
                : nodes.filter(n => n.microrregiao === microSelecionada);

            const labelsFiltrados = new Set(nodesFiltrados.map(n => n.label));

            // 1. Desenhar halos de microrregiões
            microregioes.forEach(micro => {
                const temBairrosVisiveis = micro.bairros.some(b => labelsFiltrados.has(b));
                if (!temBairrosVisiveis && microSelecionada !== 'todas') return;

                const corMicro = getCorCategoria(micro.categoria);

                const gradient = ctx.createRadialGradient(
                    micro.centro_x, micro.centro_y, micro.raio * 0.3,
                    micro.centro_x, micro.centro_y, micro.raio
                );

                gradient.addColorStop(0, corMicro + '00');
                gradient.addColorStop(0.6, corMicro + '15');
                gradient.addColorStop(1, corMicro + '35');

                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(micro.centro_x, micro.centro_y, micro.raio, 0, Math.PI * 2);
                ctx.fill();

                ctx.strokeStyle = corMicro + '50';
                ctx.lineWidth = 2;
                ctx.setLineDash([10, 5]);
                ctx.beginPath();
                ctx.arc(micro.centro_x, micro.centro_y, micro.raio, 0, Math.PI * 2);
                ctx.stroke();
                ctx.setLineDash([]);
            });

            // 2. Desenhar arestas
            edges.forEach(edge => {
                const fromNode = nodes[edge.from];
                const toNode = nodes[edge.to];

                if (!labelsFiltrados.has(fromNode.label) || !labelsFiltrados.has(toNode.label)) return;

                const chave = `${edge.from}-${edge.to}`;

                if (vizinhosSet && arestasVizinhos.has(chave)) {
                    ctx.strokeStyle = '#4ecdc4';
                    ctx.lineWidth = 3;
                } else if (vizinhosSet) {
                    ctx.strokeStyle = '#ddd';
                    ctx.lineWidth = 0.5;
                } else {
                    ctx.strokeStyle = '#999';
                    ctx.lineWidth = 1;
                }

                ctx.beginPath();
                ctx.moveTo(fromNode.x, fromNode.y);
                ctx.lineTo(toNode.x, toNode.y);
                ctx.stroke();
            });

            // 3. Desenhar nós
            nodes.forEach(node => {
                if (!labelsFiltrados.has(node.label)) return;

                const raioNo = 18;
                const raioHalo = node.taxa_analfabetismo > 8 ? 40 : 25;
                let shouldDim = false;

                if (vizinhosSet && !vizinhosSet.has(node.label)) {
                    shouldDim = true;
                }

                // Halo individual
                if (!shouldDim) {
                    const corHalo = getCorCategoria(node.categoria);
                    const gradient = ctx.createRadialGradient(node.x, node.y, raioNo, node.x, node.y, raioHalo);
                    gradient.addColorStop(0, corHalo + '00');
                    gradient.addColorStop(0.5, corHalo + '30');
                    gradient.addColorStop(1, corHalo + '60');
                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.arc(node.x, node.y, raioHalo, 0, Math.PI * 2);
                    ctx.fill();
                }

                // Nó principal
                ctx.fillStyle = shouldDim ? '#d0d0d0' : getCorCategoria(node.categoria);
                ctx.beginPath();
                ctx.arc(node.x, node.y, raioNo, 0, Math.PI * 2);
                ctx.fill();

                // Borda
                ctx.strokeStyle = (vizinhosSet && node.label === bairroSelecionado) ? '#4ecdc4' : '#333';
                ctx.lineWidth = (vizinhosSet && node.label === bairroSelecionado) ? 4 : 2;
                ctx.beginPath();
                ctx.arc(node.x, node.y, raioNo, 0, Math.PI * 2);
                ctx.stroke();

                // Label
                if (scale > 0.4) {
                    ctx.fillStyle = '#333';
                    ctx.font = 'bold 14px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(node.label, node.x, node.y + raioNo + 18);
                }
            });

            ctx.restore();
        }

        draw();
    </script>
</body>
</html>