<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Grafo de Transporte Público - Recife</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            height: 100vh;
            background: #f5f5f5;
        }
        #app {
            display: flex;
            height: 100vh;
        }
        #sidebar {
            width: 320px;
            background: white;
            padding: 20px;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            overflow-y: auto;
            z-index: 10;
        }
        h1 {
            font-size: 24px;
            margin-bottom: 10px;
            color: #333;
        }
        h2 {
            font-size: 18px;
            margin: 20px 0 10px 0;
            color: #555;
        }
        #filtroMicro {
            margin-bottom: 20px;
        }
        #filtroMicro label {
            display: block;
            margin: 10px 0 5px 0;
            font-weight: 600;
        }
        #filtroMicro select, #filtroMicro input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        #filtroMicro button {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            background: #4ecdc4;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }
        #filtroMicro button:hover {
            background: #45b7b0;
        }
        #legenda {
            padding: 15px;
            background: #f9f9f9;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        .legenda-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 8px 0;
        }
        .legenda-cor {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #333;
        }
        .legenda-linha {
            width: 40px;
            height: 3px;
            border-radius: 2px;
        }
        #canvasContainer {
            flex: 1;
            position: relative;
            overflow: hidden;
            background: white;
        }
        #canvas {
            display: block;
            cursor: grab;
        }
        #canvas.dragging {
            cursor: grabbing;
        }
        #tooltip {
            position: fixed;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 12px 16px;
            border-radius: 6px;
            font-size: 14px;
            pointer-events: none;
            display: none;
            z-index: 1000;
            max-width: 300px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        .tooltip-title {
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 8px;
            border-bottom: 1px solid rgba(255,255,255,0.3);
            padding-bottom: 6px;
        }
        .tooltip-row {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }
        .tooltip-label {
            color: #ccc;
        }
    </style>
</head>
<body>
    <div id="app">
        <div id="sidebar">
            <h1>Transporte Público</h1>
            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                Conexões de ônibus, metrô e VLT entre bairros de Recife
            </p>
            <div id="filtroMicro">
                <label for="selectMicro"><strong>Filtrar por Microrregião:</strong></label>
                <select id="selectMicro">
                    <option value="todas">Todas as Microrregiões</option>
                </select>
                <label for="inputBusca"><strong>Buscar Bairro:</strong></label>
                <input type="text" id="inputBusca" placeholder="Digite o nome do bairro...">
                <button id="btnResetFiltro">Resetar Visualização</button>
            </div>
            <div id="legenda">
                <h2 style="margin-top: 0;">Legenda - Vértices</h2>
                <div class="legenda-item">
                    <div class="legenda-cor" style="background: #4ecdc4;"></div>
                    <span>Com transporte público</span>
                </div>
                <div class="legenda-item">
                    <div class="legenda-cor" style="background: #95a5a6;"></div>
                    <span>Sem transporte público</span>
                </div>
                <h2>Legenda - Conexões</h2>
                <div class="legenda-item">
                    <div class="legenda-linha" style="background: #f39c12;"></div>
                    <span>Ruas (adjacência)</span>
                </div>
                <div class="legenda-item">
                    <div class="legenda-linha" style="background: #2ecc71;"></div>
                    <span>Linhas de ônibus</span>
                </div>
                <div class="legenda-item">
                    <div class="legenda-linha" style="background: #e91e63;"></div>
                    <span>Linhas de metrô</span>
                </div>
                <div class="legenda-item">
                    <div class="legenda-linha" style="background: #ff9800;"></div>
                    <span>Linhas de VLT</span>
                </div>
                <p style="margin-top: 15px; color: #666; font-size: 13px;">
                    <strong>Total:</strong><br>
                    93 bairros com transporte<br>
                    237 conexões de ônibus<br>
                    7 conexões de metrô<br>
                    1 conexões de VLT
                </p>
            </div>
        </div>
        <div id="canvasContainer">
            <canvas id="canvas"></canvas>
            <div id="tooltip"></div>
        </div>
    </div>
    <script>
        const nodes = [{"id": 0, "label": "Aflitos", "x": 5656.224608634043, "y": 2530.245598013349, "microrregiao": "3.1", "tem_transporte": true}, {"id": 1, "label": "Afogados", "x": 2096.129093010341, "y": 5822.028210910718, "microrregiao": "5.1", "tem_transporte": true}, {"id": 2, "label": "Alto Jos\u00e9 Bonif\u00e1cio", "x": 1139.1602576633486, "y": 3662.6950175988623, "microrregiao": "3.2", "tem_transporte": true}, {"id": 3, "label": "Alto Jos\u00e9 do Pinho", "x": 697.0132382390583, "y": 4165.094380473384, "microrregiao": "3.2", "tem_transporte": true}, {"id": 4, "label": "Alto Santa Teresinha", "x": 2487.8104614710032, "y": 2525.959301349766, "microrregiao": "2.2", "tem_transporte": true}, {"id": 5, "label": "Alto do Mandu", "x": 5227.050114895997, "y": 3123.294255043043, "microrregiao": "3.1", "tem_transporte": true}, {"id": 6, "label": "Apipucos", "x": 4514.13274157922, "y": 2058.0253747516663, "microrregiao": "3.1", "tem_transporte": true}, {"id": 7, "label": "Areias", "x": 3187.62471863296, "y": 5530.046838627693, "microrregiao": "5.2", "tem_transporte": true}, {"id": 8, "label": "Arruda", "x": 599.7824304542162, "y": 2010.8215000759526, "microrregiao": "2.1", "tem_transporte": true}, {"id": 9, "label": "Barro", "x": 4863.80935103335, "y": 5854.654696115391, "microrregiao": "5.3", "tem_transporte": true}, {"id": 10, "label": "Beberibe", "x": 3347.730533090921, "y": 2736.0124451427664, "microrregiao": "2.2 / 2.3", "tem_transporte": true}, {"id": 11, "label": "Boa Viagem", "x": 1578.868755510445, "y": 7349.783814068383, "microrregiao": "6.1", "tem_transporte": true}, {"id": 12, "label": "Boa Vista", "x": 2366.5537368005334, "y": 576.4004243651972, "microrregiao": "1.2", "tem_transporte": true}, {"id": 13, "label": "Bomba do Hemet\u00e9rio", "x": 1715.4135487665737, "y": 2100.5082418939087, "microrregiao": "2.2", "tem_transporte": true}, {"id": 14, "label": "Bongi", "x": 1743.4965790106717, "y": 5743.918311631771, "microrregiao": "5.1", "tem_transporte": true}, {"id": 15, "label": "Bras\u00edlia Teimosa", "x": 1228.0995694355831, "y": 7236.137388547235, "microrregiao": "6.1", "tem_transporte": true}, {"id": 16, "label": "Brejo da Guabiraba", "x": 2766.8856527881453, "y": 4327.780345653477, "microrregiao": "3.3", "tem_transporte": true}, {"id": 17, "label": "Brejo de Beberibe", "x": 2791.0987747462736, "y": 3663.893616649316, "microrregiao": "3.3", "tem_transporte": true}, {"id": 18, "label": "Cabanga", "x": 2739.5120002753283, "y": 648.1414341540791, "microrregiao": "1.2", "tem_transporte": true}, {"id": 19, "label": "Cajueiro", "x": 1814.6168957705274, "y": 2916.420992422834, "microrregiao": "2.2", "tem_transporte": true}, {"id": 20, "label": "Campina do Barreto", "x": 302.8246101200256, "y": 2920.1964928279217, "microrregiao": "2.1", "tem_transporte": true}, {"id": 21, "label": "Campo Grande", "x": 84.31753274258344, "y": 2635.352674826345, "microrregiao": "2.1", "tem_transporte": true}, {"id": 22, "label": "Casa Amarela", "x": 5025.5175359679815, "y": 3155.1430160052105, "microrregiao": "3.1", "tem_transporte": true}, {"id": 23, "label": "Casa Forte", "x": 5507.214218714049, "y": 2939.903240060952, "microrregiao": "3.1", "tem_transporte": true}, {"id": 24, "label": "Caxang\u00e1", "x": 335.76370935231495, "y": 5230.950917275831, "microrregiao": "4.3", "tem_transporte": true}, {"id": 25, "label": "Ca\u00e7ote", "x": 3513.9079689959976, "y": 5187.596077741264, "microrregiao": "5.2", "tem_transporte": true}, {"id": 26, "label": "Cidade Universit\u00e1ria", "x": 820.7079137171775, "y": 5521.045624712374, "microrregiao": "4.3", "tem_transporte": true}, {"id": 27, "label": "Coelhos", "x": 3766.760879591026, "y": 955.7872131122049, "microrregiao": "1.3", "tem_transporte": true}, {"id": 28, "label": "Cohab", "x": 5000, "y": 7000, "microrregiao": "6.3", "tem_transporte": true}, {"id": 29, "label": "Coqueiral", "x": 5210.868668850637, "y": 5832.488005133751, "microrregiao": "5.3", "tem_transporte": true}, {"id": 30, "label": "Cordeiro", "x": 3911.300052530143, "y": 3632.978340144471, "microrregiao": "4.1", "tem_transporte": true}, {"id": 31, "label": "Curado", "x": 4616.691083422161, "y": 5641.349932890338, "microrregiao": "5.3", "tem_transporte": true}, {"id": 32, "label": "C\u00f3rrego do Jenipapo", "x": 2988.9584039120455, "y": 4029.8309946059917, "microrregiao": "3.3", "tem_transporte": true}, {"id": 33, "label": "Derby", "x": 4302.480164141219, "y": 2465.288572959459, "microrregiao": "3.1", "tem_transporte": true}, {"id": 34, "label": "Dois Irm\u00e3os", "x": 5626.420383496615, "y": 2195.4669857425174, "microrregiao": "3.1", "tem_transporte": true}, {"id": 35, "label": "Dois Unidos", "x": 3341.0215633308085, "y": 2260.3622011363714, "microrregiao": "2.2 / 2.3", "tem_transporte": true}, {"id": 36, "label": "Encruzilhada", "x": 979.6910666930071, "y": 2464.8205343531827, "microrregiao": "2.1", "tem_transporte": true}, {"id": 37, "label": "Engenho do Meio", "x": 5230.222632981114, "y": 4007.2125173139516, "microrregiao": "4.2", "tem_transporte": true}, {"id": 38, "label": "Espinheiro", "x": 4723.8489320557355, "y": 1828.8169027231438, "microrregiao": "3.1", "tem_transporte": true}, {"id": 39, "label": "Est\u00e2ncia", "x": 3834.342836941229, "y": 5536.72399293675, "microrregiao": "5.2", "tem_transporte": true}, {"id": 40, "label": "Fund\u00e3o", "x": 1538.938333615055, "y": 2315.2577943338283, "microrregiao": "2.2", "tem_transporte": true}, {"id": 41, "label": "Gra\u00e7as", "x": 4780.40972749031, "y": 3127.605152033418, "microrregiao": "3.1", "tem_transporte": true}, {"id": 42, "label": "Guabiraba", "x": 2143.3628650975375, "y": 3649.0546726818425, "microrregiao": "3.3", "tem_transporte": true}, {"id": 43, "label": "Hip\u00f3dromo", "x": 827.8896378671038, "y": 2207.8011454672014, "microrregiao": "2.1", "tem_transporte": true}, {"id": 44, "label": "Ibura", "x": 3265.065990121242, "y": 7045.845231965494, "microrregiao": "6.2", "tem_transporte": true}, {"id": 45, "label": "Ilha Joana Bezerra", "x": 4210.13110615357, "y": 993.6253642843297, "microrregiao": "1.3", "tem_transporte": true}, {"id": 46, "label": "Ilha do Leite", "x": 2725.8733813356803, "y": 1365.5322755380314, "microrregiao": "1.2", "tem_transporte": true}, {"id": 47, "label": "Ilha do Retiro", "x": 3864.7675580848577, "y": 4432.406951146303, "microrregiao": "4.1", "tem_transporte": true}, {"id": 48, "label": "Imbiribeira", "x": 1857.4587825061524, "y": 7015.545708980133, "microrregiao": "6.1", "tem_transporte": true}, {"id": 49, "label": "Ipsep", "x": 1561.988939068796, "y": 6630.819296233902, "microrregiao": "6.1", "tem_transporte": true}, {"id": 50, "label": "Iputinga", "x": 4252.363556261994, "y": 3670.046245715595, "microrregiao": "4.1", "tem_transporte": true}, {"id": 51, "label": "Jaqueira", "x": 5595.0614412055675, "y": 2786.823234562513, "microrregiao": "3.1", "tem_transporte": true}, {"id": 52, "label": "Jardim S\u00e3o Paulo", "x": 4931.822816729174, "y": 5088.659941270692, "microrregiao": "5.3", "tem_transporte": true}, {"id": 53, "label": "Jiqui\u00e1", "x": 3492.476812470261, "y": 5787.5708677299135, "microrregiao": "5.2", "tem_transporte": true}, {"id": 54, "label": "Jord\u00e3o", "x": 3794.920854271931, "y": 6993.785472591675, "microrregiao": "6.2", "tem_transporte": true}, {"id": 55, "label": "Linha do Tiro", "x": 3791.9624219650404, "y": 2505.871963320169, "microrregiao": "2.2 / 2.3", "tem_transporte": true}, {"id": 56, "label": "Macaxeira", "x": 2493.653678879572, "y": 4427.990625806953, "microrregiao": "3.3", "tem_transporte": true}, {"id": 57, "label": "Madalena", "x": 4258.918828302914, "y": 4323.980912769674, "microrregiao": "4.1", "tem_transporte": true}, {"id": 58, "label": "Mangabeira", "x": 762.8511078010982, "y": 3755.6217177145127, "microrregiao": "3.2", "tem_transporte": true}, {"id": 59, "label": "Mangueira", "x": 2139.8376503292175, "y": 5145.542933419098, "microrregiao": "5.1", "tem_transporte": true}, {"id": 60, "label": "Monteiro", "x": 4412.740240255672, "y": 2784.276082306792, "microrregiao": "3.1", "tem_transporte": true}, {"id": 61, "label": "Morro da Concei\u00e7\u00e3o", "x": 1093.0865557067432, "y": 4294.435057642342, "microrregiao": "3.2", "tem_transporte": true}, {"id": 62, "label": "Mustardinha", "x": 2308.1177855148526, "y": 5510.9970449982875, "microrregiao": "5.1", "tem_transporte": true}, {"id": 63, "label": "Nova Descoberta", "x": 2167.425920983278, "y": 4300.12901795878, "microrregiao": "3.3", "tem_transporte": true}, {"id": 64, "label": "Paissandu", "x": 2424.250973507165, "y": 1440.9649284459244, "microrregiao": "1.2", "tem_transporte": true}, {"id": 65, "label": "Parnamirim", "x": 4369.332874442215, "y": 2264.7552763678777, "microrregiao": "3.1", "tem_transporte": true}, {"id": 66, "label": "Passarinho", "x": 2097.3146218180796, "y": 4025.0359480335037, "microrregiao": "3.3", "tem_transporte": true}, {"id": 67, "label": "Pau-ferro", "x": 2474.8249927671577, "y": 3544.3465741279642, "microrregiao": "3.3", "tem_transporte": false}, {"id": 68, "label": "Peixinhos", "x": 280.68855525458355, "y": 2043.3960414103267, "microrregiao": "2.1", "tem_transporte": true}, {"id": 69, "label": "Pina", "x": 1224.2548761021174, "y": 6812.295882882786, "microrregiao": "6.1", "tem_transporte": true}, {"id": 70, "label": "Ponto de Parada", "x": 561.6387346425272, "y": 2940.420932643748, "microrregiao": "2.1", "tem_transporte": true}, {"id": 71, "label": "Porto da Madeira", "x": 2079.4597973629893, "y": 2024.0492067072369, "microrregiao": "2.2", "tem_transporte": true}, {"id": 72, "label": "Po\u00e7o", "x": 5448.929843550188, "y": 2034.38479616919, "microrregiao": "3.1", "tem_transporte": true}, {"id": 73, "label": "Prado", "x": 3609.0320830492387, "y": 4132.001729765402, "microrregiao": "4.1", "tem_transporte": true}, {"id": 74, "label": "Recife", "x": 1281.431461539271, "y": 1000.7628067933279, "microrregiao": "1.1", "tem_transporte": true}, {"id": 75, "label": "Rosarinho", "x": 860.1375686863703, "y": 2828.1532023773425, "microrregiao": "2.1", "tem_transporte": true}, {"id": 76, "label": "San Martin", "x": 1753.7302817063678, "y": 5247.723278612176, "microrregiao": "5.1", "tem_transporte": true}, {"id": 77, "label": "Sancho", "x": 5255.222274679088, "y": 5178.9808480650345, "microrregiao": "5.3", "tem_transporte": true}, {"id": 78, "label": "Santana", "x": 5240.648307557457, "y": 1915.7439294367127, "microrregiao": "3.1", "tem_transporte": true}, {"id": 79, "label": "Santo Amaro", "x": 705.8389871641349, "y": 988.06190763193, "microrregiao": "1.1", "tem_transporte": true}, {"id": 80, "label": "Santo Ant\u00f4nio", "x": 2923.3591846493728, "y": 984.7569523248716, "microrregiao": "1.2", "tem_transporte": true}, {"id": 81, "label": "Soledade", "x": 2125.9361726340426, "y": 844.0160635358826, "microrregiao": "1.2", "tem_transporte": true}, {"id": 82, "label": "S\u00e3o Jos\u00e9", "x": 2119.2411144729926, "y": 1184.978161271556, "microrregiao": "1.2", "tem_transporte": true}, {"id": 83, "label": "S\u00edtio dos Pintos", "x": 5039.361636451081, "y": 1772.0424027619554, "microrregiao": "3.1", "tem_transporte": true}, {"id": 84, "label": "Tamarineira", "x": 4504.142564399084, "y": 2931.439521190358, "microrregiao": "3.1", "tem_transporte": true}, {"id": 85, "label": "Tejipi\u00f3", "x": 4676.073361580119, "y": 5272.66625120215, "microrregiao": "5.3", "tem_transporte": true}, {"id": 86, "label": "Torre", "x": 4440.888203807266, "y": 3990.41093123432, "microrregiao": "4.1", "tem_transporte": true}, {"id": 87, "label": "Torre\u00e3o", "x": 91.09074443523697, "y": 2385.3053849115163, "microrregiao": "2.1", "tem_transporte": true}, {"id": 88, "label": "Torr\u00f5es", "x": 5736.898066461853, "y": 4047.786205195245, "microrregiao": "4.2", "tem_transporte": true}, {"id": 89, "label": "Tot\u00f3", "x": 5386.3424886181065, "y": 5469.092837684401, "microrregiao": "5.3", "tem_transporte": true}, {"id": 90, "label": "Vasco da Gama", "x": 1368.8628936679474, "y": 4021.57110894193, "microrregiao": "3.2", "tem_transporte": true}, {"id": 91, "label": "V\u00e1rzea", "x": 399.70616287896064, "y": 5783.279355389607, "microrregiao": "4.3", "tem_transporte": true}, {"id": 92, "label": "Zumbi", "x": 3595.7122896707174, "y": 3791.893618508032, "microrregiao": "4.1", "tem_transporte": true}, {"id": 93, "label": "\u00c1gua Fria", "x": 1532.222522316763, "y": 2619.374627148632, "microrregiao": "2.2", "tem_transporte": true}];
        const edgesRuas = [{"from": 3, "to": 58, "label": "Rua Aripibu", "tipo": "rua"}, {"from": 57, "to": 73, "label": "Praca Na Rua Joao Crescencio", "tipo": "rua"}, {"from": 36, "to": 38, "label": "Rua Conselheiro Portela", "tipo": "rua"}, {"from": 1, "to": 62, "label": "Rua Orlandia", "tipo": "rua"}, {"from": 4, "to": 13, "label": "Rua Alto do Tiro", "tipo": "rua"}, {"from": 21, "to": 70, "label": "Rua Professor Jeronimo Gueiros", "tipo": "rua"}, {"from": 15, "to": 69, "label": "Rua Dentudo", "tipo": "rua"}, {"from": 22, "to": 60, "label": "Rua Iguatama", "tipo": "rua"}, {"from": 17, "to": 66, "label": "Avenida Presidente Cafe Filho", "tipo": "rua"}, {"from": 35, "to": 66, "label": "Rua Vale Fundo", "tipo": "rua"}, {"from": 56, "to": 63, "label": "Rua Nage", "tipo": "rua"}, {"from": 5, "to": 60, "label": "Rua Tramandai", "tipo": "rua"}, {"from": 31, "to": 52, "label": "Rua Raphael De Oliveira Alves", "tipo": "rua"}, {"from": 3, "to": 13, "label": "Rua Campos Belos", "tipo": "rua"}, {"from": 4, "to": 2, "label": "Rua Arlindo Cisneiros", "tipo": "rua"}, {"from": 4, "to": 55, "label": "Rua Arlindo Cisneiros", "tipo": "rua"}, {"from": 47, "to": 45, "label": "Avenida Beira Rio", "tipo": "rua"}, {"from": 93, "to": 13, "label": "Rua Turiuba", "tipo": "rua"}, {"from": 30, "to": 88, "label": "Rua Daniel Lisboa", "tipo": "rua"}, {"from": 16, "to": 32, "label": "Rua Assaituba", "tipo": "rua"}, {"from": 79, "to": 80, "label": "Rua Princesa Isabel", "tipo": "rua"}, {"from": 80, "to": 82, "label": "Rua Do Porao", "tipo": "rua"}, {"from": 17, "to": 35, "label": "Rua Izaltino Lobo", "tipo": "rua"}, {"from": 38, "to": 41, "label": "Rua Conselheiro Portela", "tipo": "rua"}, {"from": 39, "to": 53, "label": "Rua Cassiano", "tipo": "rua"}, {"from": 28, "to": 9, "label": "Rua Jos\u00e9 Caetano", "tipo": "rua"}, {"from": 28, "to": 44, "label": "Rua Jos\u00e9 Caetano", "tipo": "rua"}, {"from": 17, "to": 63, "label": "Rua Urandi", "tipo": "rua"}, {"from": 31, "to": 89, "label": "Rua Garcia", "tipo": "rua"}, {"from": 6, "to": 56, "label": "Rua Do Banho", "tipo": "rua"}, {"from": 21, "to": 43, "label": "Rua Padre Villemain", "tipo": "rua"}, {"from": 16, "to": 66, "label": "Avenida Presidente Cafe Filho", "tipo": "rua"}, {"from": 4, "to": 3, "label": "Rua Arlindo Cisneiros", "tipo": "rua"}, {"from": 44, "to": 54, "label": "Rua Boquira", "tipo": "rua"}, {"from": 26, "to": 91, "label": "Rua Barao De Mamore", "tipo": "rua"}, {"from": 75, "to": 84, "label": "Rua Capitao Sampaio Xavier", "tipo": "rua"}, {"from": 2, "to": 3, "label": "Rua Corrego Jose Grande", "tipo": "rua"}, {"from": 16, "to": 63, "label": "Rua Teolandia", "tipo": "rua"}, {"from": 57, "to": 92, "label": "Rua Joao Da Mata", "tipo": "rua"}, {"from": 36, "to": 41, "label": "Rua Conselheiro Portela", "tipo": "rua"}, {"from": 63, "to": 90, "label": "Rua Bemposta", "tipo": "rua"}, {"from": 29, "to": 89, "label": "Rua Escada", "tipo": "rua"}, {"from": 36, "to": 87, "label": "Rua Natividade Saldanha", "tipo": "rua"}, {"from": 52, "to": 85, "label": "Rua Iraguacu", "tipo": "rua"}, {"from": 41, "to": 51, "label": "Rua Antonio Celso Uchoa Cavalcanti", "tipo": "rua"}, {"from": 16, "to": 17, "label": "Avenida Presidente Cafe Filho", "tipo": "rua"}, {"from": 2, "to": 90, "label": "Rua Aratuba", "tipo": "rua"}, {"from": 9, "to": 85, "label": "Rua Capy", "tipo": "rua"}, {"from": 10, "to": 55, "label": "Avenida Hildebrando De Vasconcelos", "tipo": "rua"}, {"from": 2, "to": 17, "label": "Rua Uriel De Holanda", "tipo": "rua"}, {"from": 12, "to": 81, "label": "Rua Bispo Cardoso Ayres", "tipo": "rua"}, {"from": 35, "to": 55, "label": "Rua Izaltino Lobo", "tipo": "rua"}, {"from": 93, "to": 40, "label": "Rua Contendas", "tipo": "rua"}, {"from": 37, "to": 88, "label": "Rua Dr Miguel Vieira Ferreira", "tipo": "rua"}, {"from": 17, "to": 55, "label": "Rua Izaltino Lobo", "tipo": "rua"}, {"from": 41, "to": 75, "label": "Rua Teles Junior", "tipo": "rua"}, {"from": 6, "to": 60, "label": "Rua Mandacaru", "tipo": "rua"}, {"from": 33, "to": 47, "label": "Avenida Beira Rio", "tipo": "rua"}, {"from": 33, "to": 57, "label": "Avenida Beira Rio", "tipo": "rua"}, {"from": 23, "to": 65, "label": "Rua Da Harmonia", "tipo": "rua"}, {"from": 8, "to": 13, "label": "Rua Professor Manuel Torres", "tipo": "rua"}, {"from": 1, "to": 14, "label": "Rua Professor Celestin Malzac", "tipo": "rua"}, {"from": 57, "to": 86, "label": "Avenida Beira Rio", "tipo": "rua"}, {"from": 7, "to": 9, "label": "Rua Armando Sales De Oliveira", "tipo": "rua"}, {"from": 74, "to": 80, "label": "Ponte Maur\u00edcio de Nassau", "tipo": "rua"}, {"from": 11, "to": 69, "label": "Rua Delegado Tercio Soares De Aquino", "tipo": "rua"}, {"from": 22, "to": 61, "label": "Rua Joaquim Teixeira", "tipo": "rua"}, {"from": 11, "to": 48, "label": "Rua Capitao Vicente Da Mota", "tipo": "rua"}, {"from": 22, "to": 23, "label": "Rua Joao Barbalho", "tipo": "rua"}, {"from": 74, "to": 82, "label": "Ponte 12 de Setembro", "tipo": "rua"}, {"from": 65, "to": 84, "label": "Rua Albino Meira", "tipo": "rua"}, {"from": 20, "to": 68, "label": "Rua Jornalista Paulo Matos", "tipo": "rua"}, {"from": 43, "to": 70, "label": "Rua Costa Pinto", "tipo": "rua"}, {"from": 5, "to": 56, "label": "Rua Aroeira", "tipo": "rua"}, {"from": 39, "to": 52, "label": "Rua Alfredo Vieira De Melo", "tipo": "rua"}, {"from": 8, "to": 58, "label": "Rua Jacob", "tipo": "rua"}, {"from": 14, "to": 62, "label": "Rua Itapolis", "tipo": "rua"}, {"from": 62, "to": 76, "label": "Rua Itaquari", "tipo": "rua"}, {"from": 0, "to": 41, "label": "Rua Teles Junior", "tipo": "rua"}, {"from": 12, "to": 33, "label": "Rua Paissandu", "tipo": "rua"}, {"from": 12, "to": 27, "label": "Rua Jornalista Edmundo Bittencourt", "tipo": "rua"}, {"from": 32, "to": 56, "label": "Rua Trajano De Morais", "tipo": "rua"}, {"from": 51, "to": 84, "label": "Rua Simao Mendes", "tipo": "rua"}, {"from": 29, "to": 85, "label": "Rua Tutoia", "tipo": "rua"}, {"from": 22, "to": 84, "label": "Rua Desembargador Gois Cavalcante", "tipo": "rua"}, {"from": 8, "to": 21, "label": "Rua Petronila Botelho", "tipo": "rua"}, {"from": 0, "to": 36, "label": "Rua Samuel Campelo", "tipo": "rua"}, {"from": 36, "to": 75, "label": "Rua Teles Junior", "tipo": "rua"}, {"from": 18, "to": 82, "label": "Rua Bom Sucesso", "tipo": "rua"}, {"from": 7, "to": 39, "label": "Rua Dr Adelino Filho", "tipo": "rua"}, {"from": 41, "to": 84, "label": "Rua Capitao Sampaio Xavier", "tipo": "rua"}, {"from": 72, "to": 60, "label": "Estrada do Encanamento", "tipo": "rua"}, {"from": 46, "to": 64, "label": "Rua Dr Joao Asfora", "tipo": "rua"}, {"from": 14, "to": 73, "label": "Rua Professor Mario Ramos", "tipo": "rua"}, {"from": 19, "to": 20, "label": "Rua Nadia", "tipo": "rua"}, {"from": 0, "to": 38, "label": "Avenida Conselheiro Rosa E Silva", "tipo": "rua"}, {"from": 36, "to": 70, "label": "Rua Costa Pinto", "tipo": "rua"}, {"from": 13, "to": 58, "label": "Rua Jacob", "tipo": "rua"}, {"from": 1, "to": 59, "label": "Rua Vereador Francisco De Paula Santana", "tipo": "rua"}, {"from": 59, "to": 76, "label": "Rua Tanguara", "tipo": "rua"}, {"from": 93, "to": 20, "label": "Rua Coronel Urbano Ribeiro De Sena", "tipo": "rua"}, {"from": 10, "to": 71, "label": "Rua Dona Virtuosa De Lucena", "tipo": "rua"}, {"from": 86, "to": 92, "label": "Rua Souza Bandeira", "tipo": "rua"}, {"from": 61, "to": 90, "label": "Rua Corrego Do Ouro", "tipo": "rua"}, {"from": 22, "to": 65, "label": "Rua Da Estrela", "tipo": "rua"}, {"from": 40, "to": 71, "label": "Avenida Anibal Benevolo", "tipo": "rua"}, {"from": 36, "to": 43, "label": "Rua Costa Pinto", "tipo": "rua"}, {"from": 8, "to": 70, "label": "Rua Petronila Botelho", "tipo": "rua"}, {"from": 17, "to": 90, "label": "Rua Grijalva Costa", "tipo": "rua"}, {"from": 27, "to": 80, "label": "Rua Doutor Jose Mariano", "tipo": "rua"}, {"from": 74, "to": 79, "label": "Ponte do Limoeiro", "tipo": "rua"}, {"from": 21, "to": 87, "label": "Rua Da Fronteira", "tipo": "rua"}, {"from": 51, "to": 65, "label": "Rua Muniz Tavares", "tipo": "rua"}, {"from": 19, "to": 71, "label": "Rua Para", "tipo": "rua"}, {"from": 47, "to": 57, "label": "Rua Joao Ivo Da Silva", "tipo": "rua"}, {"from": 6, "to": 34, "label": "Entrada Br 101-Avenida Norte", "tipo": "rua"}, {"from": 30, "to": 92, "label": "Rua Padre Leonardo Greco", "tipo": "rua"}, {"from": 12, "to": 80, "label": "Rua Princesa Isabel", "tipo": "rua"}, {"from": 48, "to": 49, "label": "Rua Jose Fernandes Portugal", "tipo": "rua"}, {"from": 33, "to": 64, "label": "Rua Viscondessa Do Livramento", "tipo": "rua"}, {"from": 29, "to": 77, "label": "Rua Paulino De Farias", "tipo": "rua"}, {"from": 21, "to": 36, "label": "Rua Cristovao Jaques", "tipo": "rua"}, {"from": 5, "to": 6, "label": "Rua Massaranduba", "tipo": "rua"}, {"from": 12, "to": 79, "label": "Rua Do Principe", "tipo": "rua"}, {"from": 72, "to": 22, "label": "Rua Engenheiro Oscar Ferreira", "tipo": "rua"}, {"from": 12, "to": 64, "label": "Rua General Joaquim Inacio", "tipo": "rua"}, {"from": 27, "to": 46, "label": "Rua Jose De Alencar", "tipo": "rua"}, {"from": 70, "to": 75, "label": "Rua Almirante Noronha De Carvalho", "tipo": "rua"}, {"from": 53, "to": 76, "label": "Rua Cordelia Gois Silva", "tipo": "rua"}, {"from": 79, "to": 81, "label": "Rua Bispo Cardoso Ayres", "tipo": "rua"}, {"from": 30, "to": 37, "label": "Rua Bom Pastor", "tipo": "rua"}, {"from": 93, "to": 8, "label": "Rua Sao Bento", "tipo": "rua"}, {"from": 78, "to": 86, "label": "Avenida Beira Rio", "tipo": "rua"}, {"from": 2, "to": 55, "label": "Rua Gustavo Barrozo", "tipo": "rua"}, {"from": 2, "to": 61, "label": "Rua Corrego Do Ouro", "tipo": "rua"}, {"from": 77, "to": 85, "label": "Rua Matoso Da Camara", "tipo": "rua"}, {"from": 93, "to": 71, "label": "Rua Conselheiro Barros Barreto", "tipo": "rua"}, {"from": 77, "to": 89, "label": "Rua Do Nascente", "tipo": "rua"}, {"from": 1, "to": 53, "label": "Rua Bom Jardim", "tipo": "rua"}, {"from": 30, "to": 50, "label": "Avenida Camarao", "tipo": "rua"}, {"from": 33, "to": 41, "label": "Rua Guilherme Pinto", "tipo": "rua"}, {"from": 72, "to": 23, "label": "Estrada do Encanamento", "tipo": "rua"}, {"from": 32, "to": 63, "label": "Rua Alto Santa Luzia", "tipo": "rua"}, {"from": 12, "to": 46, "label": "Rua Visconde De Goiana", "tipo": "rua"}, {"from": 73, "to": 92, "label": "Rua Caratinga", "tipo": "rua"}, {"from": 31, "to": 76, "label": "Rua Dr Flavio Ferreira Da Silva Marojo", "tipo": "rua"}, {"from": 26, "to": 50, "label": "Rua Mauriceia", "tipo": "rua"}, {"from": 14, "to": 76, "label": "Rua Acajutiba", "tipo": "rua"}, {"from": 48, "to": 69, "label": "Rua Sao Jose", "tipo": "rua"}, {"from": 1, "to": 73, "label": "Rua Santa Edwirges", "tipo": "rua"}, {"from": 19, "to": 40, "label": "Avenida Nova Do Fundao", "tipo": "rua"}, {"from": 76, "to": 88, "label": "Avenida Recife", "tipo": "rua"}, {"from": 83, "to": 34, "label": "Rua Dois Irm\u00e3os", "tipo": "rua"}, {"from": 16, "to": 42, "label": "Avenida Embaixador Assis Chateaubriand", "tipo": "rua"}, {"from": 26, "to": 37, "label": "Rua General Vargas", "tipo": "rua"}, {"from": 31, "to": 88, "label": "Rua Vinte E Um De Abril", "tipo": "rua"}, {"from": 5, "to": 22, "label": "Avenida Doutor Eurico Chaves", "tipo": "rua"}, {"from": 53, "to": 59, "label": "Rua Bom Jardim", "tipo": "rua"}, {"from": 5, "to": 63, "label": "Avenida Norte Miguel Arraes De Alencar", "tipo": "rua"}, {"from": 51, "to": 78, "label": "Rua Leonardo Bezerra Cavalcanti", "tipo": "rua"}, {"from": 69, "to": 82, "label": "Avenida Ant\u00f4nio de Goes", "tipo": "rua"}, {"from": 31, "to": 37, "label": "Avenida Visconde De Sao Leopoldo", "tipo": "rua"}, {"from": 65, "to": 78, "label": "Rua Leonardo Bezerra Cavalcanti", "tipo": "rua"}, {"from": 4, "to": 93, "label": "Rua Tamboara", "tipo": "rua"}, {"from": 44, "to": 48, "label": "Rua Goncalves De Magalhaes", "tipo": "rua"}, {"from": 23, "to": 78, "label": "Avenida Dezessete De Agosto", "tipo": "rua"}, {"from": 7, "to": 25, "label": "Rua Aurora Cacote", "tipo": "rua"}, {"from": 8, "to": 20, "label": "Rua Expedicionario Jamil Dagli", "tipo": "rua"}, {"from": 8, "to": 68, "label": "Rua Expedicionario Jamil Dagli", "tipo": "rua"}, {"from": 59, "to": 62, "label": "Rua Vinte E Um De Abril", "tipo": "rua"}, {"from": 21, "to": 79, "label": "Rua Projetada", "tipo": "rua"}, {"from": 18, "to": 69, "label": "Ponte Governador Paulo Guerra", "tipo": "rua"}, {"from": 20, "to": 40, "label": "Rua Coronel Urbano Ribeiro De Sena", "tipo": "rua"}, {"from": 7, "to": 53, "label": "Avenida Central", "tipo": "rua"}, {"from": 10, "to": 35, "label": "Avenida Rio Morno", "tipo": "rua"}, {"from": 37, "to": 50, "label": "Rua General Vargas", "tipo": "rua"}, {"from": 6, "to": 32, "label": "Avenida Norte Miguel Arraes De Alencar", "tipo": "rua"}, {"from": 24, "to": 50, "label": "Rua Ministro Joao Alberto", "tipo": "rua"}, {"from": 30, "to": 86, "label": "Rua Souza Bandeira", "tipo": "rua"}, {"from": 3, "to": 61, "label": "Avenida Norte Miguel Arraes De Alencar", "tipo": "rua"}, {"from": 45, "to": 82, "label": "Rua Cabo Eutropio", "tipo": "rua"}, {"from": 50, "to": 91, "label": "Rua Emiliano Braga", "tipo": "rua"}, {"from": 52, "to": 76, "label": "Avenida Recife", "tipo": "rua"}, {"from": 8, "to": 84, "label": "Estrada Velha De Agua Fria", "tipo": "rua"}, {"from": 41, "to": 57, "label": "Avenida Beira Rio", "tipo": "rua"}, {"from": 1, "to": 47, "label": "Rua Padre Teofilo Tworz", "tipo": "rua"}, {"from": 47, "to": 73, "label": "Rua Padre Teofilo Tworz", "tipo": "rua"}, {"from": 38, "to": 87, "label": "Avenida Norte Miguel Arraes De Alencar", "tipo": "rua"}, {"from": 31, "to": 91, "label": "Rua Historiador Luiz Do Nascimento", "tipo": "rua"}, {"from": 12, "to": 38, "label": "Avenida Joao De Barros", "tipo": "rua"}, {"from": 26, "to": 31, "label": "Avenida Professor Luiz Freire", "tipo": "rua"}, {"from": 30, "to": 73, "label": "Avenida General San Martin", "tipo": "rua"}, {"from": 41, "to": 86, "label": "Avenida Beira Rio", "tipo": "rua"}, {"from": 31, "to": 77, "label": "Avenida Liberdade", "tipo": "rua"}, {"from": 22, "to": 58, "label": "Avenida Professor Jose Dos Anjos", "tipo": "rua"}, {"from": 11, "to": 54, "label": "Rua Canal Do Jordao", "tipo": "rua"}, {"from": 93, "to": 10, "label": "Avenida Anibal Benevolo", "tipo": "rua"}, {"from": 72, "to": 78, "label": "Avenida Dezessete de Agosto", "tipo": "rua"}, {"from": 34, "to": 42, "label": "Rua Limite De Municipio", "tipo": "rua"}, {"from": 25, "to": 49, "label": "Avenida Recife", "tipo": "rua"}, {"from": 93, "to": 55, "label": "Avenida Anibal Benevolo", "tipo": "rua"}, {"from": 21, "to": 68, "label": "Avenida Correia De Brito", "tipo": "rua"}, {"from": 38, "to": 79, "label": "Avenida Joao De Barros", "tipo": "rua"}, {"from": 31, "to": 85, "label": "Avenida Liberdade", "tipo": "rua"}, {"from": 1, "to": 18, "label": "Avenida Sul Gov. Cid Sampaio", "tipo": "rua"}, {"from": 73, "to": 76, "label": "Avenida General San Martin", "tipo": "rua"}, {"from": 58, "to": 84, "label": "Avenida Professor Jose Dos Anjos", "tipo": "rua"}, {"from": 42, "to": 66, "label": "Rua Limite De Municipio", "tipo": "rua"}, {"from": 6, "to": 24, "label": "Avenida Da Recuperacao", "tipo": "rua"}, {"from": 7, "to": 52, "label": "Avenida Central", "tipo": "rua"}, {"from": 39, "to": 76, "label": "Avenida Recife", "tipo": "rua"}, {"from": 30, "to": 76, "label": "Avenida Engenheiro Abdias De Carvalho", "tipo": "rua"}, {"from": 52, "to": 53, "label": "Avenida Central", "tipo": "rua"}, {"from": 8, "to": 75, "label": "Avenida Professor Jose Dos Anjos", "tipo": "rua"}, {"from": 22, "to": 63, "label": "Avenida Norte Miguel Arraes De Alencar", "tipo": "rua"}, {"from": 9, "to": 52, "label": "Avenida Central", "tipo": "rua"}, {"from": 7, "to": 49, "label": "Avenida Recife", "tipo": "rua"}, {"from": 79, "to": 87, "label": "Avenida Norte Miguel Arraes De Alencar", "tipo": "rua"}, {"from": 3, "to": 22, "label": "Avenida Norte Miguel Arraes De Alencar", "tipo": "rua"}, {"from": 24, "to": 91, "label": "Avenida Caxanga", "tipo": "rua"}, {"from": 22, "to": 90, "label": "Avenida Norte Miguel Arraes De Alencar", "tipo": "rua"}, {"from": 12, "to": 41, "label": "Avenida Governador Agamenon Magalhaes", "tipo": "rua"}, {"from": 24, "to": 34, "label": "Avenida Da Recuperacao", "tipo": "rua"}, {"from": 44, "to": 49, "label": "Avenida Recife", "tipo": "rua"}, {"from": 25, "to": 44, "label": "Avenida Recife", "tipo": "rua"}, {"from": 1, "to": 82, "label": "Avenida Sul Gov. Cid Sampaio", "tipo": "rua"}, {"from": 67, "to": 42, "label": "Estrada do Orfanato", "tipo": "rua"}, {"from": 1, "to": 45, "label": "Avenida Central", "tipo": "rua"}, {"from": 32, "to": 34, "label": "Avenida Da Recuperacao", "tipo": "rua"}, {"from": 11, "to": 44, "label": "Avenida Marechal Mascarenhas De Moraes", "tipo": "rua"}, {"from": 7, "to": 44, "label": "Avenida Recife", "tipo": "rua"}, {"from": 1, "to": 48, "label": "Avenida Sul Gov. Cid Sampaio", "tipo": "rua"}, {"from": 32, "to": 42, "label": "Avenida Da Recuperacao", "tipo": "rua"}];
        const edgesOnibus = [{"from": 85, "to": 91, "tipo": "onibus"}, {"from": 51, "to": 65, "tipo": "onibus"}, {"from": 61, "to": 22, "tipo": "onibus"}, {"from": 1, "to": 14, "tipo": "onibus"}, {"from": 82, "to": 74, "tipo": "onibus"}, {"from": 31, "to": 89, "tipo": "onibus"}, {"from": 82, "to": 45, "tipo": "onibus"}, {"from": 42, "to": 32, "tipo": "onibus"}, {"from": 84, "to": 41, "tipo": "onibus"}, {"from": 8, "to": 84, "tipo": "onibus"}, {"from": 90, "to": 61, "tipo": "onibus"}, {"from": 12, "to": 74, "tipo": "onibus"}, {"from": 69, "to": 64, "tipo": "onibus"}, {"from": 34, "to": 6, "tipo": "onibus"}, {"from": 3, "to": 22, "tipo": "onibus"}, {"from": 70, "to": 8, "tipo": "onibus"}, {"from": 45, "to": 46, "tipo": "onibus"}, {"from": 1, "to": 82, "tipo": "onibus"}, {"from": 74, "to": 4, "tipo": "onibus"}, {"from": 22, "to": 60, "tipo": "onibus"}, {"from": 65, "to": 22, "tipo": "onibus"}, {"from": 10, "to": 71, "tipo": "onibus"}, {"from": 93, "to": 71, "tipo": "onibus"}, {"from": 66, "to": 82, "tipo": "onibus"}, {"from": 91, "to": 50, "tipo": "onibus"}, {"from": 76, "to": 30, "tipo": "onibus"}, {"from": 77, "to": 31, "tipo": "onibus"}, {"from": 7, "to": 53, "tipo": "onibus"}, {"from": 46, "to": 12, "tipo": "onibus"}, {"from": 37, "to": 26, "tipo": "onibus"}, {"from": 92, "to": 73, "tipo": "onibus"}, {"from": 22, "to": 90, "tipo": "onibus"}, {"from": 72, "to": 65, "tipo": "onibus"}, {"from": 31, "to": 88, "tipo": "onibus"}, {"from": 47, "to": 57, "tipo": "onibus"}, {"from": 85, "to": 9, "tipo": "onibus"}, {"from": 76, "to": 14, "tipo": "onibus"}, {"from": 64, "to": 18, "tipo": "onibus"}, {"from": 7, "to": 49, "tipo": "onibus"}, {"from": 32, "to": 16, "tipo": "onibus"}, {"from": 4, "to": 2, "tipo": "onibus"}, {"from": 69, "to": 18, "tipo": "onibus"}, {"from": 36, "to": 41, "tipo": "onibus"}, {"from": 17, "to": 90, "tipo": "onibus"}, {"from": 52, "to": 44, "tipo": "onibus"}, {"from": 65, "to": 78, "tipo": "onibus"}, {"from": 91, "to": 24, "tipo": "onibus"}, {"from": 50, "to": 24, "tipo": "onibus"}, {"from": 50, "to": 37, "tipo": "onibus"}, {"from": 93, "to": 20, "tipo": "onibus"}, {"from": 71, "to": 19, "tipo": "onibus"}, {"from": 37, "to": 31, "tipo": "onibus"}, {"from": 5, "to": 22, "tipo": "onibus"}, {"from": 51, "to": 84, "tipo": "onibus"}, {"from": 69, "to": 11, "tipo": "onibus"}, {"from": 66, "to": 16, "tipo": "onibus"}, {"from": 75, "to": 36, "tipo": "onibus"}, {"from": 22, "to": 23, "tipo": "onibus"}, {"from": 38, "to": 12, "tipo": "onibus"}, {"from": 58, "to": 3, "tipo": "onibus"}, {"from": 12, "to": 64, "tipo": "onibus"}, {"from": 1, "to": 59, "tipo": "onibus"}, {"from": 52, "to": 7, "tipo": "onibus"}, {"from": 21, "to": 45, "tipo": "onibus"}, {"from": 63, "to": 22, "tipo": "onibus"}, {"from": 34, "to": 24, "tipo": "onibus"}, {"from": 73, "to": 57, "tipo": "onibus"}, {"from": 1, "to": 47, "tipo": "onibus"}, {"from": 82, "to": 18, "tipo": "onibus"}, {"from": 55, "to": 35, "tipo": "onibus"}, {"from": 20, "to": 8, "tipo": "onibus"}, {"from": 10, "to": 35, "tipo": "onibus"}, {"from": 79, "to": 82, "tipo": "onibus"}, {"from": 12, "to": 33, "tipo": "onibus"}, {"from": 80, "to": 74, "tipo": "onibus"}, {"from": 66, "to": 35, "tipo": "onibus"}, {"from": 77, "to": 29, "tipo": "onibus"}, {"from": 13, "to": 3, "tipo": "onibus"}, {"from": 61, "to": 3, "tipo": "onibus"}, {"from": 79, "to": 38, "tipo": "onibus"}, {"from": 47, "to": 64, "tipo": "onibus"}, {"from": 44, "to": 49, "tipo": "onibus"}, {"from": 45, "to": 52, "tipo": "onibus"}, {"from": 9, "to": 7, "tipo": "onibus"}, {"from": 92, "to": 57, "tipo": "onibus"}, {"from": 21, "to": 36, "tipo": "onibus"}, {"from": 31, "to": 76, "tipo": "onibus"}, {"from": 45, "to": 12, "tipo": "onibus"}, {"from": 21, "to": 87, "tipo": "onibus"}, {"from": 85, "to": 52, "tipo": "onibus"}, {"from": 36, "to": 79, "tipo": "onibus"}, {"from": 11, "to": 48, "tipo": "onibus"}, {"from": 32, "to": 56, "tipo": "onibus"}, {"from": 60, "to": 5, "tipo": "onibus"}, {"from": 81, "to": 12, "tipo": "onibus"}, {"from": 64, "to": 45, "tipo": "onibus"}, {"from": 31, "to": 85, "tipo": "onibus"}, {"from": 69, "to": 45, "tipo": "onibus"}, {"from": 76, "to": 39, "tipo": "onibus"}, {"from": 48, "to": 49, "tipo": "onibus"}, {"from": 44, "to": 11, "tipo": "onibus"}, {"from": 38, "to": 0, "tipo": "onibus"}, {"from": 34, "to": 83, "tipo": "onibus"}, {"from": 7, "to": 25, "tipo": "onibus"}, {"from": 92, "to": 86, "tipo": "onibus"}, {"from": 6, "to": 32, "tipo": "onibus"}, {"from": 73, "to": 76, "tipo": "onibus"}, {"from": 1, "to": 53, "tipo": "onibus"}, {"from": 79, "to": 74, "tipo": "onibus"}, {"from": 55, "to": 17, "tipo": "onibus"}, {"from": 30, "to": 50, "tipo": "onibus"}, {"from": 12, "to": 82, "tipo": "onibus"}, {"from": 59, "to": 53, "tipo": "onibus"}, {"from": 55, "to": 93, "tipo": "onibus"}, {"from": 66, "to": 68, "tipo": "onibus"}, {"from": 27, "to": 45, "tipo": "onibus"}, {"from": 66, "to": 17, "tipo": "onibus"}, {"from": 48, "to": 1, "tipo": "onibus"}, {"from": 46, "to": 64, "tipo": "onibus"}, {"from": 12, "to": 27, "tipo": "onibus"}, {"from": 21, "to": 68, "tipo": "onibus"}, {"from": 17, "to": 2, "tipo": "onibus"}, {"from": 83, "to": 24, "tipo": "onibus"}, {"from": 54, "to": 44, "tipo": "onibus"}, {"from": 38, "to": 36, "tipo": "onibus"}, {"from": 38, "to": 87, "tipo": "onibus"}, {"from": 30, "to": 73, "tipo": "onibus"}, {"from": 42, "to": 16, "tipo": "onibus"}, {"from": 85, "to": 77, "tipo": "onibus"}, {"from": 34, "to": 32, "tipo": "onibus"}, {"from": 86, "to": 41, "tipo": "onibus"}, {"from": 76, "to": 53, "tipo": "onibus"}, {"from": 2, "to": 61, "tipo": "onibus"}, {"from": 1, "to": 73, "tipo": "onibus"}, {"from": 79, "to": 87, "tipo": "onibus"}, {"from": 36, "to": 43, "tipo": "onibus"}, {"from": 36, "to": 70, "tipo": "onibus"}, {"from": 63, "to": 56, "tipo": "onibus"}, {"from": 10, "to": 55, "tipo": "onibus"}, {"from": 84, "to": 65, "tipo": "onibus"}, {"from": 27, "to": 46, "tipo": "onibus"}, {"from": 33, "to": 41, "tipo": "onibus"}, {"from": 41, "to": 79, "tipo": "onibus"}, {"from": 6, "to": 56, "tipo": "onibus"}, {"from": 63, "to": 17, "tipo": "onibus"}, {"from": 28, "to": 29, "tipo": "onibus"}, {"from": 72, "to": 22, "tipo": "onibus"}, {"from": 64, "to": 33, "tipo": "onibus"}, {"from": 4, "to": 61, "tipo": "onibus"}, {"from": 57, "to": 41, "tipo": "onibus"}, {"from": 65, "to": 23, "tipo": "onibus"}, {"from": 29, "to": 31, "tipo": "onibus"}, {"from": 62, "to": 1, "tipo": "onibus"}, {"from": 40, "to": 71, "tipo": "onibus"}, {"from": 27, "to": 80, "tipo": "onibus"}, {"from": 80, "to": 82, "tipo": "onibus"}, {"from": 52, "to": 39, "tipo": "onibus"}, {"from": 62, "to": 14, "tipo": "onibus"}, {"from": 35, "to": 17, "tipo": "onibus"}, {"from": 63, "to": 90, "tipo": "onibus"}, {"from": 8, "to": 93, "tipo": "onibus"}, {"from": 42, "to": 66, "tipo": "onibus"}, {"from": 40, "to": 20, "tipo": "onibus"}, {"from": 4, "to": 3, "tipo": "onibus"}, {"from": 52, "to": 31, "tipo": "onibus"}, {"from": 39, "to": 53, "tipo": "onibus"}, {"from": 30, "to": 86, "tipo": "onibus"}, {"from": 76, "to": 88, "tipo": "onibus"}, {"from": 57, "to": 86, "tipo": "onibus"}, {"from": 19, "to": 40, "tipo": "onibus"}, {"from": 34, "to": 42, "tipo": "onibus"}, {"from": 12, "to": 80, "tipo": "onibus"}, {"from": 30, "to": 92, "tipo": "onibus"}, {"from": 65, "to": 86, "tipo": "onibus"}, {"from": 77, "to": 89, "tipo": "onibus"}, {"from": 36, "to": 84, "tipo": "onibus"}, {"from": 41, "to": 12, "tipo": "onibus"}, {"from": 31, "to": 26, "tipo": "onibus"}, {"from": 88, "to": 37, "tipo": "onibus"}, {"from": 3, "to": 2, "tipo": "onibus"}, {"from": 17, "to": 16, "tipo": "onibus"}, {"from": 55, "to": 2, "tipo": "onibus"}, {"from": 13, "to": 93, "tipo": "onibus"}, {"from": 29, "to": 89, "tipo": "onibus"}, {"from": 14, "to": 73, "tipo": "onibus"}, {"from": 56, "to": 5, "tipo": "onibus"}, {"from": 41, "to": 38, "tipo": "onibus"}, {"from": 21, "to": 79, "tipo": "onibus"}, {"from": 28, "to": 9, "tipo": "onibus"}, {"from": 22, "to": 84, "tipo": "onibus"}, {"from": 4, "to": 55, "tipo": "onibus"}, {"from": 62, "to": 59, "tipo": "onibus"}, {"from": 59, "to": 76, "tipo": "onibus"}, {"from": 44, "to": 28, "tipo": "onibus"}, {"from": 13, "to": 8, "tipo": "onibus"}, {"from": 47, "to": 73, "tipo": "onibus"}, {"from": 30, "to": 37, "tipo": "onibus"}, {"from": 11, "to": 54, "tipo": "onibus"}, {"from": 50, "to": 26, "tipo": "onibus"}, {"from": 41, "to": 0, "tipo": "onibus"}, {"from": 72, "to": 60, "tipo": "onibus"}, {"from": 84, "to": 58, "tipo": "onibus"}, {"from": 58, "to": 13, "tipo": "onibus"}, {"from": 9, "to": 29, "tipo": "onibus"}, {"from": 44, "to": 48, "tipo": "onibus"}, {"from": 51, "to": 41, "tipo": "onibus"}, {"from": 69, "to": 15, "tipo": "onibus"}, {"from": 33, "to": 81, "tipo": "onibus"}, {"from": 21, "to": 43, "tipo": "onibus"}, {"from": 44, "to": 25, "tipo": "onibus"}, {"from": 9, "to": 52, "tipo": "onibus"}, {"from": 76, "to": 62, "tipo": "onibus"}, {"from": 19, "to": 20, "tipo": "onibus"}, {"from": 30, "to": 88, "tipo": "onibus"}, {"from": 0, "to": 36, "tipo": "onibus"}, {"from": 60, "to": 50, "tipo": "onibus"}, {"from": 72, "to": 23, "tipo": "onibus"}, {"from": 79, "to": 80, "tipo": "onibus"}, {"from": 6, "to": 50, "tipo": "onibus"}, {"from": 33, "to": 57, "tipo": "onibus"}, {"from": 8, "to": 40, "tipo": "onibus"}, {"from": 6, "to": 60, "tipo": "onibus"}, {"from": 12, "to": 79, "tipo": "onibus"}, {"from": 75, "to": 84, "tipo": "onibus"}, {"from": 29, "to": 85, "tipo": "onibus"}, {"from": 54, "to": 28, "tipo": "onibus"}, {"from": 79, "to": 70, "tipo": "onibus"}, {"from": 45, "to": 18, "tipo": "onibus"}, {"from": 26, "to": 91, "tipo": "onibus"}, {"from": 31, "to": 91, "tipo": "onibus"}, {"from": 4, "to": 93, "tipo": "onibus"}, {"from": 39, "to": 7, "tipo": "onibus"}, {"from": 45, "to": 11, "tipo": "onibus"}, {"from": 93, "to": 40, "tipo": "onibus"}, {"from": 64, "to": 57, "tipo": "onibus"}, {"from": 13, "to": 4, "tipo": "onibus"}, {"from": 1, "to": 18, "tipo": "onibus"}];
        const edgesMetro = [{"from": 19, "to": 59, "tipo": "metro"}, {"from": 29, "to": 19, "tipo": "metro"}, {"from": 11, "to": 1, "tipo": "metro"}, {"from": 74, "to": 45, "tipo": "metro"}, {"from": 45, "to": 1, "tipo": "metro"}, {"from": 85, "to": 1, "tipo": "metro"}, {"from": 48, "to": 69, "tipo": "metro"}];
        const edgesVlt = [{"from": 1, "to": 37, "tipo": "vlt"}];

        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const tooltip = document.getElementById('tooltip');
        const selectMicro = document.getElementById('selectMicro');
        const btnResetFiltro = document.getElementById('btnResetFiltro');
        const inputBusca = document.getElementById('inputBusca');

        let offsetX = 0;
        let offsetY = 0;
        let scale = 1.0;
        let isDragging = false;
        let startX, startY;
        let bairroSelecionado = null;
        let microSelecionada = 'todas';
        let bairroBuscado = null;

        // Popul ar dropdown de microrregiões
        const microregioesUnicas = [...new Set(nodes.map(n => n.microrregiao))].sort();
        microregioesUnicas.forEach(micro => {
            const option = document.createElement('option');
            option.value = micro;
            option.textContent = micro;
            selectMicro.appendChild(option);
        });

        selectMicro.addEventListener('change', (e) => {
            microSelecionada = e.target.value;
            bairroSelecionado = null;
            draw();
        });

        btnResetFiltro.addEventListener('click', () => {
            microSelecionada = 'todas';
            bairroSelecionado = null;
            bairroBuscado = null;
            selectMicro.value = 'todas';
            inputBusca.value = '';
            draw();
        });

        inputBusca.addEventListener('input', (e) => {
            const termo = e.target.value.toLowerCase();
            if (termo.length >= 2) {
                const encontrado = nodes.find(n => n.label.toLowerCase().includes(termo));
                if (encontrado) {
                    bairroBuscado = encontrado.label;
                    bairroSelecionado = encontrado.label;
                }
            } else {
                bairroBuscado = null;
            }
            draw();
        });

        function resizeCanvas() {
            const container = canvas.parentElement;
            canvas.width = container.clientWidth;
            canvas.height = container.clientHeight;
            draw();
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        canvas.addEventListener('mousedown', (e) => {
            isDragging = true;
            startX = e.clientX - offsetX;
            startY = e.clientY - offsetY;
            canvas.classList.add('dragging');
        });

        canvas.addEventListener('mousemove', (e) => {
            if (isDragging) {
                offsetX = e.clientX - startX;
                offsetY = e.clientY - startY;
                draw();
            }
            handleMouseMove(e);
        });

        canvas.addEventListener('mouseup', () => {
            isDragging = false;
            canvas.classList.remove('dragging');
        });

        canvas.addEventListener('mouseleave', () => {
            isDragging = false;
            canvas.classList.remove('dragging');
            tooltip.style.display = 'none';
        });

        canvas.addEventListener('click', (e) => {
            if (!isDragging) {
                const rect = canvas.getBoundingClientRect();
                const mouseX = (e.clientX - rect.left - offsetX) / scale;
                const mouseY = (e.clientY - rect.top - offsetY) / scale;

                for (const node of nodes) {
                    const dx = mouseX - node.x;
                    const dy = mouseY - node.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    if (dist < 18) {
                        if (bairroSelecionado === node.label) {
                            bairroSelecionado = null;
                        } else {
                            bairroSelecionado = node.label;
                        }
                        draw();
                        break;
                    }
                }
            }
        });

        canvas.addEventListener('wheel', (e) => {
            e.preventDefault();
            const rect = canvas.getBoundingClientRect();
            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;
            const worldX = (mouseX - offsetX) / scale;
            const worldY = (mouseY - offsetY) / scale;
            const delta = e.deltaY > 0 ? 0.9 : 1.1;
            const newScale = Math.max(0.1, Math.min(5, scale * delta));
            scale = newScale;
            offsetX = mouseX - worldX * scale;
            offsetY = mouseY - worldY * scale;
            draw();
        });

        function handleMouseMove(e) {
            const rect = canvas.getBoundingClientRect();
            const mouseX = (e.clientX - rect.left - offsetX) / scale;
            const mouseY = (e.clientY - rect.top - offsetY) / scale;

            let found = false;
            for (const node of nodes) {
                const dx = mouseX - node.x;
                const dy = mouseY - node.y;
                const dist = Math.sqrt(dx * dx + dy * dy);

                if (dist < 18) {
                    tooltip.innerHTML = `
                        <div class="tooltip-title">${node.label}</div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Microrregião:</span>
                            <strong>${node.microrregiao}</strong>
                        </div>
                        <div class="tooltip-row">
                            <span class="tooltip-label">Transporte Público:</span>
                            <strong>${node.tem_transporte ? 'Sim' : 'Não'}</strong>
                        </div>
                    `;
                    tooltip.style.left = (e.clientX + 15) + 'px';
                    tooltip.style.top = (e.clientY + 15) + 'px';
                    tooltip.style.display = 'block';
                    found = true;
                    break;
                }
            }

            if (!found) {
                tooltip.style.display = 'none';
            }
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.save();
            ctx.translate(offsetX, offsetY);
            ctx.scale(scale, scale);

            // Filtrar nós por microrregião
            const nodesFiltrados = microSelecionada === 'todas'
                ? nodes
                : nodes.filter(n => n.microrregiao.includes(microSelecionada));

            const labelsFiltrados = new Set(nodesFiltrados.map(n => n.label));

            // Se há bairro selecionado, pegar vizinhos
            let vizinhosSet = null;
            let arestasVizinhos = new Set();

            if (bairroSelecionado) {
                vizinhosSet = new Set([bairroSelecionado]);

                // Adicionar vizinhos por ruas
                edgesRuas.forEach(edge => {
                    const fromNode = nodes[edge.from];
                    const toNode = nodes[edge.to];

                    if (fromNode.label === bairroSelecionado) {
                        vizinhosSet.add(toNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    }
                    if (toNode.label === bairroSelecionado) {
                        vizinhosSet.add(fromNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    }
                });

                // Adicionar vizinhos por ônibus
                edgesOnibus.forEach(edge => {
                    const fromNode = nodes[edge.from];
                    const toNode = nodes[edge.to];

                    if (fromNode.label === bairroSelecionado) {
                        vizinhosSet.add(toNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    }
                    if (toNode.label === bairroSelecionado) {
                        vizinhosSet.add(fromNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    }
                });

                // Adicionar vizinhos por metrô
                edgesMetro.forEach(edge => {
                    const fromNode = nodes[edge.from];
                    const toNode = nodes[edge.to];

                    if (fromNode.label === bairroSelecionado) {
                        vizinhosSet.add(toNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    }
                    if (toNode.label === bairroSelecionado) {
                        vizinhosSet.add(fromNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    }
                });

                // Adicionar vizinhos por VLT
                edgesVlt.forEach(edge => {
                    const fromNode = nodes[edge.from];
                    const toNode = nodes[edge.to];

                    if (fromNode.label === bairroSelecionado) {
                        vizinhosSet.add(toNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    }
                    if (toNode.label === bairroSelecionado) {
                        vizinhosSet.add(fromNode.label);
                        arestasVizinhos.add(`${edge.from}-${edge.to}`);
                    }
                });
            }

            // 1. Desenhar arestas de ruas
            edgesRuas.forEach(edge => {
                const fromNode = nodes[edge.from];
                const toNode = nodes[edge.to];

                if (!labelsFiltrados.has(fromNode.label) || !labelsFiltrados.has(toNode.label)) return;

                const chave = `${edge.from}-${edge.to}`;

                if (vizinhosSet && arestasVizinhos.has(chave)) {
                    ctx.strokeStyle = '#f39c12';
                    ctx.lineWidth = 2;
                } else if (vizinhosSet) {
                    ctx.strokeStyle = '#ddd';
                    ctx.lineWidth = 0.5;
                } else {
                    ctx.strokeStyle = '#f39c12';
                    ctx.lineWidth = 1;
                    ctx.globalAlpha = 0.3;
                }

                ctx.beginPath();
                ctx.moveTo(fromNode.x, fromNode.y);
                ctx.lineTo(toNode.x, toNode.y);
                ctx.stroke();
                ctx.globalAlpha = 1.0;
            });

            // 2. Desenhar arestas de ônibus
            edgesOnibus.forEach(edge => {
                const fromNode = nodes[edge.from];
                const toNode = nodes[edge.to];

                if (!labelsFiltrados.has(fromNode.label) || !labelsFiltrados.has(toNode.label)) return;

                const chave = `${edge.from}-${edge.to}`;

                if (vizinhosSet && arestasVizinhos.has(chave)) {
                    ctx.strokeStyle = '#2ecc71';
                    ctx.lineWidth = 3;
                } else if (vizinhosSet) {
                    ctx.strokeStyle = '#ddd';
                    ctx.lineWidth = 0.5;
                } else {
                    ctx.strokeStyle = '#2ecc71';
                    ctx.lineWidth = 2;
                }

                ctx.beginPath();
                ctx.moveTo(fromNode.x, fromNode.y);
                ctx.lineTo(toNode.x, toNode.y);
                ctx.stroke();
            });

            // 3. Desenhar arestas de metrô
            edgesMetro.forEach(edge => {
                const fromNode = nodes[edge.from];
                const toNode = nodes[edge.to];

                if (!labelsFiltrados.has(fromNode.label) || !labelsFiltrados.has(toNode.label)) return;

                const chave = `${edge.from}-${edge.to}`;

                if (vizinhosSet && arestasVizinhos.has(chave)) {
                    ctx.strokeStyle = '#e91e63';
                    ctx.lineWidth = 4;
                } else if (vizinhosSet) {
                    ctx.strokeStyle = '#ddd';
                    ctx.lineWidth = 0.5;
                } else {
                    ctx.strokeStyle = '#e91e63';
                    ctx.lineWidth = 3;
                }

                ctx.beginPath();
                ctx.moveTo(fromNode.x, fromNode.y);
                ctx.lineTo(toNode.x, toNode.y);
                ctx.stroke();
            });

            // 4. Desenhar arestas de VLT
            edgesVlt.forEach(edge => {
                const fromNode = nodes[edge.from];
                const toNode = nodes[edge.to];

                if (!labelsFiltrados.has(fromNode.label) || !labelsFiltrados.has(toNode.label)) return;

                const chave = `${edge.from}-${edge.to}`;

                if (vizinhosSet && arestasVizinhos.has(chave)) {
                    ctx.strokeStyle = '#ff9800';
                    ctx.lineWidth = 4;
                } else if (vizinhosSet) {
                    ctx.strokeStyle = '#ddd';
                    ctx.lineWidth = 0.5;
                } else {
                    ctx.strokeStyle = '#ff9800';
                    ctx.lineWidth = 3;
                }

                ctx.beginPath();
                ctx.moveTo(fromNode.x, fromNode.y);
                ctx.lineTo(toNode.x, toNode.y);
                ctx.stroke();
            });

            // 5. Desenhar nós
            nodesFiltrados.forEach(node => {
                let shouldDim = false;

                if (vizinhosSet && !vizinhosSet.has(node.label)) {
                    shouldDim = true;
                }

                // Desenhar nó
                const cor = node.tem_transporte ? '#4ecdc4' : '#95a5a6';
                ctx.fillStyle = shouldDim ? '#d0d0d0' : cor;
                ctx.beginPath();
                ctx.arc(node.x, node.y, 18, 0, Math.PI * 2);
                ctx.fill();

                // Borda do nó
                ctx.strokeStyle = (vizinhosSet && node.label === bairroSelecionado) ? '#e74c3c' : '#333';
                ctx.lineWidth = (vizinhosSet && node.label === bairroSelecionado) ? 4 : 2;
                ctx.beginPath();
                ctx.arc(node.x, node.y, 18, 0, Math.PI * 2);
                ctx.stroke();

                // Labels
                if (!vizinhosSet || vizinhosSet.has(node.label)) {
                    ctx.fillStyle = '#333';
                    ctx.font = 'bold 14px sans-serif';
                    ctx.textAlign = 'center';
                    ctx.fillText(node.label, node.x, node.y - 25);
                }
            });

            ctx.restore();
        }

        draw();
    </script>
</body>
</html>